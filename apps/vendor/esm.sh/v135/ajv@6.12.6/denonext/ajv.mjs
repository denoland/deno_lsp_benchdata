/* esm.sh - esbuild bundle(ajv@6.12.6) denonext production */
import * as __0$ from "/v135/fast-json-stable-stringify@2.1.0/denonext/fast-json-stable-stringify.mjs";
import * as __1$ from "/v135/fast-json-stable-stringify@2.1.0/denonext/fast-json-stable-stringify.mjs";
import * as __2$ from "/v135/fast-deep-equal@3.1.3/denonext/fast-deep-equal.mjs";
import * as __3$ from "/v135/fast-deep-equal@3.1.3/denonext/fast-deep-equal.mjs";
import * as __4$ from "/v135/uri-js@4.4.1/denonext/uri-js.mjs";
import * as __5$ from "/v135/fast-deep-equal@3.1.3/denonext/fast-deep-equal.mjs";
import * as __6$ from "/v135/json-schema-traverse@0.4.1/denonext/json-schema-traverse.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"fast-json-stable-stringify":return e(__0$);case"fast-deep-equal":return e(__2$);case"uri-js":return c(__4$);case"json-schema-traverse":return e(__6$);default:throw new Error("module \""+n+"\" not found");}};
var ss=Object.create;var Le=Object.defineProperty;var ts=Object.getOwnPropertyDescriptor;var os=Object.getOwnPropertyNames;var ls=Object.getPrototypeOf,ns=Object.prototype.hasOwnProperty;var ae=(a=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(a,{get:(e,s)=>(typeof require<"u"?require:e)[s]}):a)(function(a){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+a+'" is not supported')});var L=(a,e)=>()=>(e||a((e={exports:{}}).exports,e),e.exports),is=(a,e)=>{for(var s in e)Le(a,s,{get:e[s],enumerable:!0})},je=(a,e,s,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let r of os(e))!ns.call(a,r)&&r!==s&&Le(a,r,{get:()=>e[r],enumerable:!(n=ts(e,r))||n.enumerable});return a},ie=(a,e,s)=>(je(a,e,"default"),s&&je(s,e,"default")),or=(a,e,s)=>(s=a!=null?ss(ls(a)):{},je(e||!a||!a.__esModule?Le(s,"default",{value:a,enumerable:!0}):s,a));var nr=L((kt,lr)=>{"use strict";lr.exports=function(e){for(var s=0,n=e.length,r=0,o;r<n;)s++,o=e.charCodeAt(r++),o>=55296&&o<=56319&&r<n&&(o=e.charCodeAt(r),(o&64512)==56320&&r++);return s}});var se=L((Kt,ur)=>{"use strict";ur.exports={copy:fs,checkDataType:Ae,checkDataTypes:us,coerceToTypes:hs,toHash:Qe,getProperty:ze,escapeQuotes:Te,equal:ae("fast-deep-equal"),ucs2length:nr(),varOccurences:ds,varReplace:ms,schemaHasRules:ps,schemaHasRulesExcept:gs,schemaUnknownRules:Ps,toQuotedString:qe,getPathExpr:ys,getPath:Es,getData:ws,unescapeFragment:_s,unescapeJsonPointer:Ce,escapeFragment:$s,escapeJsonPointer:Ne};function fs(a,e){e=e||{};for(var s in a)e[s]=a[s];return e}function Ae(a,e,s,n){var r=n?" !== ":" === ",o=n?" || ":" && ",c=n?"!":"",l=n?"":"!";switch(a){case"null":return e+r+"null";case"array":return c+"Array.isArray("+e+")";case"object":return"("+c+e+o+"typeof "+e+r+'"object"'+o+l+"Array.isArray("+e+"))";case"integer":return"(typeof "+e+r+'"number"'+o+l+"("+e+" % 1)"+o+e+r+e+(s?o+c+"isFinite("+e+")":"")+")";case"number":return"(typeof "+e+r+'"'+a+'"'+(s?o+c+"isFinite("+e+")":"")+")";default:return"typeof "+e+r+'"'+a+'"'}}function us(a,e,s){switch(a.length){case 1:return Ae(a[0],e,s,!0);default:var n="",r=Qe(a);r.array&&r.object&&(n=r.null?"(":"(!"+e+" || ",n+="typeof "+e+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer;for(var o in r)n+=(n?" && ":"")+Ae(o,e,s,!0);return n}}var ir=Qe(["string","number","integer","boolean","null"]);function hs(a,e){if(Array.isArray(e)){for(var s=[],n=0;n<e.length;n++){var r=e[n];(ir[r]||a==="array"&&r==="array")&&(s[s.length]=r)}if(s.length)return s}else{if(ir[e])return[e];if(a==="array"&&e==="array")return["array"]}}function Qe(a){for(var e={},s=0;s<a.length;s++)e[a[s]]=!0;return e}var cs=/^[a-z$_][a-z$_0-9]*$/i,vs=/'|\\/g;function ze(a){return typeof a=="number"?"["+a+"]":cs.test(a)?"."+a:"['"+Te(a)+"']"}function Te(a){return a.replace(vs,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function ds(a,e){e+="[^0-9]";var s=a.match(new RegExp(e,"g"));return s?s.length:0}function ms(a,e,s){return e+="([^0-9])",s=s.replace(/\$/g,"$$$$"),a.replace(new RegExp(e,"g"),s+"$1")}function ps(a,e){if(typeof a=="boolean")return!a;for(var s in a)if(e[s])return!0}function gs(a,e,s){if(typeof a=="boolean")return!a&&s!="not";for(var n in a)if(n!=s&&e[n])return!0}function Ps(a,e){if(typeof a!="boolean"){for(var s in a)if(!e[s])return s}}function qe(a){return"'"+Te(a)+"'"}function ys(a,e,s,n){var r=s?"'/' + "+e+(n?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):n?"'[' + "+e+" + ']'":"'[\\'' + "+e+" + '\\']'";return fr(a,r)}function Es(a,e,s){var n=qe(s?"/"+Ne(e):ze(e));return fr(a,n)}var Ss=/^\/(?:[^~]|~0|~1)*$/,bs=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ws(a,e,s){var n,r,o,c;if(a==="")return"rootData";if(a[0]=="/"){if(!Ss.test(a))throw new Error("Invalid JSON-pointer: "+a);r=a,o="rootData"}else{if(c=a.match(bs),!c)throw new Error("Invalid JSON-pointer: "+a);if(n=+c[1],r=c[2],r=="#"){if(n>=e)throw new Error("Cannot access property/index "+n+" levels up, current level is "+e);return s[e-n]}if(n>e)throw new Error("Cannot access data "+n+" levels up, current level is "+e);if(o="data"+(e-n||""),!r)return o}for(var l=o,P=r.split("/"),m=0;m<P.length;m++){var d=P[m];d&&(o+=ze(Ce(d)),l+=" && "+o)}return l}function fr(a,e){return a=='""'?e:(a+" + "+e).replace(/([^\\])' \+ '/g,"$1")}function _s(a){return Ce(decodeURIComponent(a))}function $s(a){return encodeURIComponent(Ne(a))}function Ne(a){return a.replace(/~/g,"~0").replace(/\//g,"~1")}function Ce(a){return a.replace(/~1/g,"/").replace(/~0/g,"~")}});var Ve=L((Bt,hr)=>{"use strict";var Fs=se();hr.exports=Rs;function Rs(a){Fs.copy(a,this)}});var Se=L((Ht,mr)=>{"use strict";var ce=ae("uri-js"),cr=ae("fast-deep-equal"),ye=se(),pe=Ve(),Ds=ae("json-schema-traverse");mr.exports=X;X.normalizeId=W;X.fullPath=ge;X.url=Pe;X.ids=Ls;X.inlineRef=Ue;X.schema=Ee;function X(a,e,s){var n=this._refs[s];if(typeof n=="string")if(this._refs[n])n=this._refs[n];else return X.call(this,a,e,n);if(n=n||this._schemas[s],n instanceof pe)return Ue(n.schema,this._opts.inlineRefs)?n.schema:n.validate||this._compile(n);var r=Ee.call(this,e,s),o,c,l;return r&&(o=r.schema,e=r.root,l=r.baseId),o instanceof pe?c=o.validate||a.call(this,o.schema,e,void 0,l):o!==void 0&&(c=Ue(o,this._opts.inlineRefs)?o:a.call(this,o,e,void 0,l)),c}function Ee(a,e){var s=ce.parse(e),n=dr(s),r=ge(this._getId(a.schema));if(Object.keys(a.schema).length===0||n!==r){var o=W(n),c=this._refs[o];if(typeof c=="string")return xs.call(this,a,c,s);if(c instanceof pe)c.validate||this._compile(c),a=c;else if(c=this._schemas[o],c instanceof pe){if(c.validate||this._compile(c),o==W(e))return{schema:c,root:a,baseId:r};a=c}else return;if(!a.schema)return;r=ge(this._getId(a.schema))}return vr.call(this,s,r,a.schema,a)}function xs(a,e,s){var n=Ee.call(this,a,e);if(n){var r=n.schema,o=n.baseId;a=n.root;var c=this._getId(r);return c&&(o=Pe(o,c)),vr.call(this,s,o,r,a)}}var Os=ye.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function vr(a,e,s,n){if(a.fragment=a.fragment||"",a.fragment.slice(0,1)=="/"){for(var r=a.fragment.split("/"),o=1;o<r.length;o++){var c=r[o];if(c){if(c=ye.unescapeFragment(c),s=s[c],s===void 0)break;var l;if(!Os[c]&&(l=this._getId(s),l&&(e=Pe(e,l)),s.$ref)){var P=Pe(e,s.$ref),m=Ee.call(this,n,P);m&&(s=m.schema,n=m.root,e=m.baseId)}}}if(s!==void 0&&s!==n.schema)return{schema:s,root:n,baseId:e}}}var Is=ye.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function Ue(a,e){if(e===!1)return!1;if(e===void 0||e===!0)return Me(a);if(e)return ke(a)<=e}function Me(a){var e;if(Array.isArray(a)){for(var s=0;s<a.length;s++)if(e=a[s],typeof e=="object"&&!Me(e))return!1}else for(var n in a)if(n=="$ref"||(e=a[n],typeof e=="object"&&!Me(e)))return!1;return!0}function ke(a){var e=0,s;if(Array.isArray(a)){for(var n=0;n<a.length;n++)if(s=a[n],typeof s=="object"&&(e+=ke(s)),e==1/0)return 1/0}else for(var r in a){if(r=="$ref")return 1/0;if(Is[r])e++;else if(s=a[r],typeof s=="object"&&(e+=ke(s)+1),e==1/0)return 1/0}return e}function ge(a,e){e!==!1&&(a=W(a));var s=ce.parse(a);return dr(s)}function dr(a){return ce.serialize(a).split("#")[0]+"#"}var js=/#\/?$/;function W(a){return a?a.replace(js,""):""}function Pe(a,e){return e=W(e),ce.resolve(a,e)}function Ls(a){var e=W(this._getId(a)),s={"":e},n={"":ge(e,!1)},r={},o=this;return Ds(a,{allKeys:!0},function(c,l,P,m,d,u,v){if(l!==""){var t=o._getId(c),f=s[m],h=n[m]+"/"+d;if(v!==void 0&&(h+="/"+(typeof v=="number"?v:ye.escapeFragment(v))),typeof t=="string"){t=f=W(f?ce.resolve(f,t):t);var i=o._refs[t];if(typeof i=="string"&&(i=o._refs[i]),i&&i.schema){if(!cr(c,i.schema))throw new Error('id "'+t+'" resolves to more than one schema')}else if(t!=W(h))if(t[0]=="#"){if(r[t]&&!cr(c,r[t]))throw new Error('id "'+t+'" resolves to more than one schema');r[t]=c}else o._refs[t]=h}s[l]=f,n[l]=h}}),r}});var be=L((Jt,gr)=>{"use strict";var Ke=Se();gr.exports={Validation:pr(As),MissingRef:pr(Be)};function As(a){this.message="validation failed",this.errors=a,this.ajv=this.validation=!0}Be.message=function(a,e){return"can't resolve reference "+e+" from id "+a};function Be(a,e,s){this.message=s||Be.message(a,e),this.missingRef=Ke.url(a,e),this.missingSchema=Ke.normalizeId(Ke.fullPath(this.missingRef))}function pr(a){return a.prototype=Object.create(Error.prototype),a.prototype.constructor=a,a}});var He=L((Gt,Pr)=>{"use strict";Pr.exports=function(e,s,n){var r="",o=e.schema.$async===!0,c=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.opts.strictKeywords){var P=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(P){var m="unknown keyword: "+P;if(e.opts.strictKeywords==="log")e.logger.warn(m);else throw new Error(m)}}if(e.isTop&&(r+=" var validate = ",o&&(e.async=!0,r+="async "),r+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(r+=" "+("/*# sourceURL="+l+" */")+" ")),typeof e.schema=="boolean"||!(c||e.schema.$ref)){var s="false schema",d=e.level,u=e.dataLevel,v=e.schema[s],t=e.schemaPath+e.util.getProperty(s),f=e.errSchemaPath+"/"+s,_=!e.opts.allErrors,R,h="data"+(u||""),w="valid"+d;if(e.schema===!1){e.isTop?_=!0:r+=" var "+w+" = false; ";var i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(R||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'boolean schema is false' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;r=i.pop(),!e.compositeRule&&_?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?o?r+=" return data; ":r+=" validate.errors = null; return true; ":r+=" var "+w+" = true; ";return e.isTop&&(r+=" }; return validate; "),r}if(e.isTop){var E=e.isTop,d=e.level=0,u=e.dataLevel=0,h="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],e.schema.default!==void 0&&e.opts.useDefaults&&e.opts.strictDefaults){var g="default is ignored in the schema root";if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}r+=" var vErrors = null; ",r+=" var errors = 0;     ",r+=" if (rootData === undefined) rootData = data; "}else{var d=e.level,u=e.dataLevel,h="data"+(u||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),o&&!e.async)throw new Error("async schema in sync schema");r+=" var errs_"+d+" = errors;"}var w="valid"+d,_=!e.opts.allErrors,$="",O="",R,b=e.schema.type,I=Array.isArray(b);if(b&&e.opts.nullable&&e.schema.nullable===!0&&(I?b.indexOf("null")==-1&&(b=b.concat("null")):b!="null"&&(b=[b,"null"],I=!0)),I&&b.length==1&&(b=b[0],I=!1),e.schema.$ref&&c){if(e.opts.extendRefs=="fail")throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');e.opts.extendRefs!==!0&&(c=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(r+=" "+e.RULES.all.$comment.code(e,"$comment")),b){if(e.opts.coerceTypes)var D=e.util.coerceToTypes(e.opts.coerceTypes,b);var x=e.RULES.types[b];if(D||I||x===!0||x&&!k(x)){var t=e.schemaPath+".type",f=e.errSchemaPath+"/type",t=e.schemaPath+".type",f=e.errSchemaPath+"/type",y=I?"checkDataTypes":"checkDataType";if(r+=" if ("+e.util[y](b,h,e.opts.strictNumbers,!0)+") { ",D){var S="dataType"+d,F="coerced"+d;r+=" var "+S+" = typeof "+h+"; var "+F+" = undefined; ",e.opts.coerceTypes=="array"&&(r+=" if ("+S+" == 'object' && Array.isArray("+h+") && "+h+".length == 1) { "+h+" = "+h+"[0]; "+S+" = typeof "+h+"; if ("+e.util.checkDataType(e.schema.type,h,e.opts.strictNumbers)+") "+F+" = "+h+"; } "),r+=" if ("+F+" !== undefined) ; ";var z=D;if(z)for(var q,Q=-1,A=z.length-1;Q<A;)q=z[Q+=1],q=="string"?r+=" else if ("+S+" == 'number' || "+S+" == 'boolean') "+F+" = '' + "+h+"; else if ("+h+" === null) "+F+" = ''; ":q=="number"||q=="integer"?(r+=" else if ("+S+" == 'boolean' || "+h+" === null || ("+S+" == 'string' && "+h+" && "+h+" == +"+h+" ",q=="integer"&&(r+=" && !("+h+" % 1)"),r+=")) "+F+" = +"+h+"; "):q=="boolean"?r+=" else if ("+h+" === 'false' || "+h+" === 0 || "+h+" === null) "+F+" = false; else if ("+h+" === 'true' || "+h+" === 1) "+F+" = true; ":q=="null"?r+=" else if ("+h+" === '' || "+h+" === 0 || "+h+" === false) "+F+" = null; ":e.opts.coerceTypes=="array"&&q=="array"&&(r+=" else if ("+S+" == 'string' || "+S+" == 'number' || "+S+" == 'boolean' || "+h+" == null) "+F+" = ["+h+"]; ");r+=" else {   ";var i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(R||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",I?r+=""+b.join(","):r+=""+b,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",I?r+=""+b.join(","):r+=""+b,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+t+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;r=i.pop(),!e.compositeRule&&_?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } if ("+F+" !== undefined) {  ";var j=u?"data"+(u-1||""):"parentData",V=u?e.dataPathArr[u]:"parentDataProperty";r+=" "+h+" = "+F+"; ",u||(r+="if ("+j+" !== undefined)"),r+=" "+j+"["+V+"] = "+F+"; } "}else{var i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(R||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",I?r+=""+b.join(","):r+=""+b,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",I?r+=""+b.join(","):r+=""+b,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+t+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;r=i.pop(),!e.compositeRule&&_?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}r+=" } "}}if(e.schema.$ref&&!c)r+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",_&&(r+=" } if (errors === ",E?r+="0":r+="errs_"+d,r+=") { ",O+="}");else{var K=e.RULES;if(K){for(var x,H=-1,T=K.length-1;H<T;)if(x=K[H+=1],k(x)){if(x.type&&(r+=" if ("+e.util.checkDataType(x.type,h,e.opts.strictNumbers)+") { "),e.opts.useDefaults){if(x.type=="object"&&e.schema.properties){var v=e.schema.properties,ee=Object.keys(v),re=ee;if(re)for(var Y,ve=-1,fe=re.length-1;ve<fe;){Y=re[ve+=1];var M=v[Y];if(M.default!==void 0){var U=h+e.util.getProperty(Y);if(e.compositeRule){if(e.opts.strictDefaults){var g="default is ignored for: "+U;if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}}else r+=" if ("+U+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+U+" === null || "+U+" === '' "),r+=" ) "+U+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(M.default)+" ":r+=" "+JSON.stringify(M.default)+" ",r+="; "}}}else if(x.type=="array"&&Array.isArray(e.schema.items)){var ue=e.schema.items;if(ue){for(var M,Q=-1,B=ue.length-1;Q<B;)if(M=ue[Q+=1],M.default!==void 0){var U=h+"["+Q+"]";if(e.compositeRule){if(e.opts.strictDefaults){var g="default is ignored for: "+U;if(e.opts.strictDefaults==="log")e.logger.warn(g);else throw new Error(g)}}else r+=" if ("+U+" === undefined ",e.opts.useDefaults=="empty"&&(r+=" || "+U+" === null || "+U+" === '' "),r+=" ) "+U+" = ",e.opts.useDefaults=="shared"?r+=" "+e.useDefault(M.default)+" ":r+=" "+JSON.stringify(M.default)+" ",r+="; "}}}}var C=x.rules;if(C){for(var le,ne=-1,de=C.length-1;ne<de;)if(le=C[ne+=1],he(le)){var me=le.code(e,le.keyword,x.type);me&&(r+=" "+me+" ",_&&($+="}"))}}if(_&&(r+=" "+$+" ",$=""),x.type&&(r+=" } ",b&&b===x.type&&!D)){r+=" else { ";var t=e.schemaPath+".type",f=e.errSchemaPath+"/type",i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(R||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(f)+" , params: { type: '",I?r+=""+b.join(","):r+=""+b,r+="' } ",e.opts.messages!==!1&&(r+=" , message: 'should be ",I?r+=""+b.join(","):r+=""+b,r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+t+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),r+=" } "):r+=" {} ";var p=r;r=i.pop(),!e.compositeRule&&_?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } "}_&&(r+=" if (errors === ",E?r+="0":r+="errs_"+d,r+=") { ",O+="}")}}}_&&(r+=" "+O+" "),E?(o?(r+=" if (errors === 0) return data;           ",r+=" else throw new ValidationError(vErrors); "):(r+=" validate.errors = vErrors; ",r+=" return errors === 0;       "),r+=" }; return validate;"):r+=" var "+w+" = errors === errs_"+d+";";function k(J){for(var Z=J.rules,G=0;G<Z.length;G++)if(he(Z[G]))return!0}function he(J){return e.schema[J.keyword]!==void 0||J.implements&&Ie(J)}function Ie(J){for(var Z=J.implements,G=0;G<Z.length;G++)if(e.schema[Z[G]]!==void 0)return!0}return r}});var wr=L((Yt,br)=>{"use strict";var we=Se(),$e=se(),Er=be(),qs=ae("fast-json-stable-stringify"),yr=He(),Qs=$e.ucs2length,zs=ae("fast-deep-equal"),Ts=Er.Validation;br.exports=Je;function Je(a,e,s,n){var r=this,o=this._opts,c=[void 0],l={},P=[],m={},d=[],u={},v=[];e=e||{schema:a,refVal:c,refs:l};var t=Ns.call(this,a,e,n),f=this._compilations[t.index];if(t.compiling)return f.callValidate=g;var h=this._formats,i=this.RULES;try{var p=w(a,e,s,n);f.validate=p;var E=f.callValidate;return E&&(E.schema=p.schema,E.errors=null,E.refs=p.refs,E.refVal=p.refVal,E.root=p.root,E.$async=p.$async,o.sourceCode&&(E.source=p.source)),p}finally{Cs.call(this,a,e,n)}function g(){var y=f.validate,S=y.apply(this,arguments);return g.errors=y.errors,S}function w(y,S,F,z){var q=!S||S&&S.schema==y;if(S.schema!=e.schema)return Je.call(r,y,S,F,z);var Q=y.$async===!0,A=yr({isTop:!0,schema:y,isRoot:q,baseId:z,root:S,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:Er.MissingRef,RULES:i,validate:yr,util:$e,resolve:we,resolveRef:_,usePattern:I,useDefault:D,useCustomRule:x,opts:o,formats:h,logger:r.logger,self:r});A=_e(c,Ms)+_e(P,Vs)+_e(d,Us)+_e(v,ks)+A,o.processCode&&(A=o.processCode(A,y));var j;try{var V=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",A);j=V(r,i,h,e,c,d,v,zs,Qs,Ts),c[0]=j}catch(K){throw r.logger.error("Error compiling schema, function code:",A),K}return j.schema=y,j.errors=null,j.refs=l,j.refVal=c,j.root=q?j:S,Q&&(j.$async=!0),o.sourceCode===!0&&(j.source={code:A,patterns:P,defaults:d}),j}function _(y,S,F){S=we.url(y,S);var z=l[S],q,Q;if(z!==void 0)return q=c[z],Q="refVal["+z+"]",b(q,Q);if(!F&&e.refs){var A=e.refs[S];if(A!==void 0)return q=e.refVal[A],Q=$(S,q),b(q,Q)}Q=$(S);var j=we.call(r,w,e,S);if(j===void 0){var V=s&&s[S];V&&(j=we.inlineRef(V,o.inlineRefs)?V:Je.call(r,V,e,s,y))}if(j===void 0)O(S);else return R(S,j),b(j,Q)}function $(y,S){var F=c.length;return c[F]=S,l[y]=F,"refVal"+F}function O(y){delete l[y]}function R(y,S){var F=l[y];c[F]=S}function b(y,S){return typeof y=="object"||typeof y=="boolean"?{code:S,schema:y,inline:!0}:{code:S,$async:y&&!!y.$async}}function I(y){var S=m[y];return S===void 0&&(S=m[y]=P.length,P[S]=y),"pattern"+S}function D(y){switch(typeof y){case"boolean":case"number":return""+y;case"string":return $e.toQuotedString(y);case"object":if(y===null)return"null";var S=qs(y),F=u[S];return F===void 0&&(F=u[S]=d.length,d[F]=y),"default"+F}}function x(y,S,F,z){if(r._opts.validateSchema!==!1){var q=y.definition.dependencies;if(q&&!q.every(function(re){return Object.prototype.hasOwnProperty.call(F,re)}))throw new Error("parent schema must have all required keywords: "+q.join(","));var Q=y.definition.validateSchema;if(Q){var A=Q(S);if(!A){var j="keyword schema is invalid: "+r.errorsText(Q.errors);if(r._opts.validateSchema=="log")r.logger.error(j);else throw new Error(j)}}}var V=y.definition.compile,K=y.definition.inline,H=y.definition.macro,T;if(V)T=V.call(r,S,F,z);else if(H)T=H.call(r,S,F,z),o.validateSchema!==!1&&r.validateSchema(T,!0);else if(K)T=K.call(r,z,y.keyword,S,F);else if(T=y.definition.validate,!T)return;if(T===void 0)throw new Error('custom keyword "'+y.keyword+'"failed to compile');var ee=v.length;return v[ee]=T,{code:"customRule"+ee,validate:T}}}function Ns(a,e,s){var n=Sr.call(this,a,e,s);return n>=0?{index:n,compiling:!0}:(n=this._compilations.length,this._compilations[n]={schema:a,root:e,baseId:s},{index:n,compiling:!1})}function Cs(a,e,s){var n=Sr.call(this,a,e,s);n>=0&&this._compilations.splice(n,1)}function Sr(a,e,s){for(var n=0;n<this._compilations.length;n++){var r=this._compilations[n];if(r.schema==a&&r.root==e&&r.baseId==s)return n}return-1}function Vs(a,e){return"var pattern"+a+" = new RegExp("+$e.toQuotedString(e[a])+");"}function Us(a){return"var default"+a+" = defaults["+a+"];"}function Ms(a,e){return e[a]===void 0?"":"var refVal"+a+" = refVal["+a+"];"}function ks(a){return"var customRule"+a+" = customRules["+a+"];"}function _e(a,e){if(!a.length)return"";for(var s="",n=0;n<a.length;n++)s+=e(n,a);return s}});var $r=L((Zt,_r)=>{"use strict";var Fe=_r.exports=function(){this._cache={}};Fe.prototype.put=function(e,s){this._cache[e]=s};Fe.prototype.get=function(e){return this._cache[e]};Fe.prototype.del=function(e){delete this._cache[e]};Fe.prototype.clear=function(){this._cache={}}});var zr=L((Wt,Qr)=>{"use strict";var Ks=se(),Bs=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,Hs=[0,31,28,31,30,31,30,31,31,30,31,30,31],Js=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,Fr=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,Gs=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Ys=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,Rr=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,Dr=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-)*(?:[0-9a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[a-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,xr=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,Or=/^(?:\/(?:[^~/]|~0|~1)*)*$/,Ir=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,jr=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;Qr.exports=Re;function Re(a){return a=a=="full"?"full":"fast",Ks.copy(Re[a])}Re.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":Rr,url:Dr,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:Fr,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:qr,uuid:xr,"json-pointer":Or,"json-pointer-uri-fragment":Ir,"relative-json-pointer":jr};Re.full={date:Lr,time:Ar,"date-time":Xs,uri:rt,"uri-reference":Ys,"uri-template":Rr,url:Dr,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:Fr,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:qr,uuid:xr,"json-pointer":Or,"json-pointer-uri-fragment":Ir,"relative-json-pointer":jr};function Zs(a){return a%4===0&&(a%100!==0||a%400===0)}function Lr(a){var e=a.match(Bs);if(!e)return!1;var s=+e[1],n=+e[2],r=+e[3];return n>=1&&n<=12&&r>=1&&r<=(n==2&&Zs(s)?29:Hs[n])}function Ar(a,e){var s=a.match(Js);if(!s)return!1;var n=s[1],r=s[2],o=s[3],c=s[5];return(n<=23&&r<=59&&o<=59||n==23&&r==59&&o==60)&&(!e||c)}var Ws=/t|\s/i;function Xs(a){var e=a.split(Ws);return e.length==2&&Lr(e[0])&&Ar(e[1],!0)}var et=/\/|:/;function rt(a){return et.test(a)&&Gs.test(a)}var at=/[^\\]\\Z/;function qr(a){if(at.test(a))return!1;try{return new RegExp(a),!0}catch{return!1}}});var Nr=L((Xt,Tr)=>{"use strict";Tr.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.errSchemaPath+"/"+s,m=!e.opts.allErrors,d="data"+(c||""),u="valid"+o,v,t;if(l=="#"||l=="#/")e.isRoot?(v=e.async,t="validate"):(v=e.root.schema.$async===!0,t="root.refVal[0]");else{var f=e.resolveRef(e.baseId,l,e.isRoot);if(f===void 0){var h=e.MissingRefError.message(e.baseId,l);if(e.opts.missingRefs=="fail"){e.logger.error(h);var i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(P)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",e.opts.messages!==!1&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var p=r;r=i.pop(),!e.compositeRule&&m?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m&&(r+=" if (false) { ")}else if(e.opts.missingRefs=="ignore")e.logger.warn(h),m&&(r+=" if (true) { ");else throw new e.MissingRefError(e.baseId,l,h)}else if(f.inline){var E=e.util.copy(e);E.level++;var g="valid"+E.level;E.schema=f.schema,E.schemaPath="",E.errSchemaPath=l;var w=e.validate(E).replace(/validate\.schema/g,f.code);r+=" "+w+" ",m&&(r+=" if ("+g+") { ")}else v=f.$async===!0||e.async&&f.$async!==!1,t=f.code}if(t){var i=i||[];i.push(r),r="",e.opts.passContext?r+=" "+t+".call(this, ":r+=" "+t+"( ",r+=" "+d+", (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var _=c?"data"+(c-1||""):"parentData",$=c?e.dataPathArr[c]:"parentDataProperty";r+=" , "+_+" , "+$+", rootData)  ";var O=r;if(r=i.pop(),v){if(!e.async)throw new Error("async schema referenced by sync schema");m&&(r+=" var "+u+"; "),r+=" try { await "+O+"; ",m&&(r+=" "+u+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",m&&(r+=" "+u+" = false; "),r+=" } ",m&&(r+=" if ("+u+") { ")}else r+=" if (!"+O+") { if (vErrors === null) vErrors = "+t+".errors; else vErrors = vErrors.concat("+t+".errors); errors = vErrors.length; } ",m&&(r+=" else { ")}return r}});var Vr=L((eo,Cr)=>{"use strict";Cr.exports=function(e,s,n){var r=" ",o=e.schema[s],c=e.schemaPath+e.util.getProperty(s),l=e.errSchemaPath+"/"+s,P=!e.opts.allErrors,m=e.util.copy(e),d="";m.level++;var u="valid"+m.level,v=m.baseId,t=!0,f=o;if(f)for(var h,i=-1,p=f.length-1;i<p;)h=f[i+=1],(e.opts.strictKeywords?typeof h=="object"&&Object.keys(h).length>0||h===!1:e.util.schemaHasRules(h,e.RULES.all))&&(t=!1,m.schema=h,m.schemaPath=c+"["+i+"]",m.errSchemaPath=l+"/"+i,r+="  "+e.validate(m)+" ",m.baseId=v,P&&(r+=" if ("+u+") { ",d+="}"));return P&&(t?r+=" if (true) { ":r+=" "+d.slice(0,-1)+" "),r}});var Mr=L((ro,Ur)=>{"use strict";Ur.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t="errs__"+o,f=e.util.copy(e),h="";f.level++;var i="valid"+f.level,p=l.every(function(R){return e.opts.strictKeywords?typeof R=="object"&&Object.keys(R).length>0||R===!1:e.util.schemaHasRules(R,e.RULES.all)});if(p){var E=f.baseId;r+=" var "+t+" = errors; var "+v+" = false;  ";var g=e.compositeRule;e.compositeRule=f.compositeRule=!0;var w=l;if(w)for(var _,$=-1,O=w.length-1;$<O;)_=w[$+=1],f.schema=_,f.schemaPath=P+"["+$+"]",f.errSchemaPath=m+"/"+$,r+="  "+e.validate(f)+" ",f.baseId=E,r+=" "+v+" = "+v+" || "+i+"; if (!"+v+") { ",h+="}";e.compositeRule=f.compositeRule=g,r+=" "+h+" if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" } else {  errors = "+t+"; if (vErrors !== null) { if ("+t+") vErrors.length = "+t+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else d&&(r+=" if (true) { ");return r}});var Kr=L((ao,kr)=>{"use strict";kr.exports=function(e,s,n){var r=" ",o=e.schema[s],c=e.errSchemaPath+"/"+s,l=!e.opts.allErrors,P=e.util.toQuotedString(o);return e.opts.$comment===!0?r+=" console.log("+P+");":typeof e.opts.$comment=="function"&&(r+=" self._opts.$comment("+P+", "+e.util.toQuotedString(c)+", validate.root.schema);"),r}});var Hr=L((so,Br)=>{"use strict";Br.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t=e.opts.$data&&l&&l.$data,f;t?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",f="schema"+o):f=l,t||(r+=" var schema"+o+" = validate.schema"+P+";"),r+="var "+v+" = equal("+u+", schema"+o+"); if (!"+v+") {   ";var h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { allowedValue: schema"+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to constant' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var i=r;return r=h.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+i+"]); ":r+=" validate.errors = ["+i+"]; return false; ":r+=" var err = "+i+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",d&&(r+=" else { "),r}});var Gr=L((to,Jr)=>{"use strict";Jr.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t="errs__"+o,f=e.util.copy(e),h="";f.level++;var i="valid"+f.level,p="i"+o,E=f.dataLevel=e.dataLevel+1,g="data"+E,w=e.baseId,_=e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all);if(r+="var "+t+" = errors;var "+v+";",_){var $=e.compositeRule;e.compositeRule=f.compositeRule=!0,f.schema=l,f.schemaPath=P,f.errSchemaPath=m,r+=" var "+i+" = false; for (var "+p+" = 0; "+p+" < "+u+".length; "+p+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var O=u+"["+p+"]";f.dataPathArr[E]=p;var R=e.validate(f);f.baseId=w,e.util.varOccurences(R,g)<2?r+=" "+e.util.varReplace(R,g,O)+" ":r+=" var "+g+" = "+O+"; "+R+" ",r+=" if ("+i+") break; }  ",e.compositeRule=f.compositeRule=$,r+=" "+h+" if (!"+i+") {"}else r+=" if ("+u+".length == 0) {";var b=b||[];b.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should contain a valid item' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var I=r;return r=b.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+I+"]); ":r+=" validate.errors = ["+I+"]; return false; ":r+=" var err = "+I+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { ",_&&(r+="  errors = "+t+"; if (vErrors !== null) { if ("+t+") vErrors.length = "+t+"; else vErrors = null; } "),e.opts.allErrors&&(r+=" } "),r}});var Zr=L((oo,Yr)=>{"use strict";Yr.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="errs__"+o,t=e.util.copy(e),f="";t.level++;var h="valid"+t.level,i={},p={},E=e.opts.ownProperties;for($ in l)if($!="__proto__"){var g=l[$],w=Array.isArray(g)?p:i;w[$]=g}r+="var "+v+" = errors;";var _=e.errorPath;r+="var missing"+o+";";for(var $ in p)if(w=p[$],w.length){if(r+=" if ( "+u+e.util.getProperty($)+" !== undefined ",E&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),d){r+=" && ( ";var O=w;if(O)for(var R,b=-1,I=O.length-1;b<I;){R=O[b+=1],b&&(r+=" || ");var D=e.util.getProperty(R),x=u+D;r+=" ( ( "+x+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(R)+"') "),r+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?R:D)+") ) "}r+=")) {  ";var y="missing"+o,S="' + "+y+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(_,y,!0):_+" + "+y);var F=F||[];F.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { property: '"+e.util.escapeQuotes($)+"', missingProperty: '"+S+"', depsCount: "+w.length+", deps: '"+e.util.escapeQuotes(w.length==1?w[0]:w.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",w.length==1?r+="property "+e.util.escapeQuotes(w[0]):r+="properties "+e.util.escapeQuotes(w.join(", ")),r+=" when property "+e.util.escapeQuotes($)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var z=r;r=F.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+z+"]); ":r+=" validate.errors = ["+z+"]; return false; ":r+=" var err = "+z+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{r+=" ) { ";var q=w;if(q)for(var R,Q=-1,A=q.length-1;Q<A;){R=q[Q+=1];var D=e.util.getProperty(R),S=e.util.escapeQuotes(R),x=u+D;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(_,R,e.opts.jsonPointers)),r+=" if ( "+x+" === undefined ",E&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(R)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { property: '"+e.util.escapeQuotes($)+"', missingProperty: '"+S+"', depsCount: "+w.length+", deps: '"+e.util.escapeQuotes(w.length==1?w[0]:w.join(", "))+"' } ",e.opts.messages!==!1&&(r+=" , message: 'should have ",w.length==1?r+="property "+e.util.escapeQuotes(w[0]):r+="properties "+e.util.escapeQuotes(w.join(", ")),r+=" when property "+e.util.escapeQuotes($)+" is present' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r+=" }   ",d&&(f+="}",r+=" else { ")}e.errorPath=_;var j=t.baseId;for(var $ in i){var g=i[$];(e.opts.strictKeywords?typeof g=="object"&&Object.keys(g).length>0||g===!1:e.util.schemaHasRules(g,e.RULES.all))&&(r+=" "+h+" = true; if ( "+u+e.util.getProperty($)+" !== undefined ",E&&(r+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes($)+"') "),r+=") { ",t.schema=g,t.schemaPath=P+e.util.getProperty($),t.errSchemaPath=m+"/"+e.util.escapeFragment($),r+="  "+e.validate(t)+" ",t.baseId=j,r+=" }  ",d&&(r+=" if ("+h+") { ",f+="}"))}return d&&(r+="   "+f+" if ("+v+" == errors) {"),r}});var Xr=L((lo,Wr)=>{"use strict";Wr.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t=e.opts.$data&&l&&l.$data,f;t?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",f="schema"+o):f=l;var h="i"+o,i="schema"+o;t||(r+=" var "+i+" = validate.schema"+P+";"),r+="var "+v+";",t&&(r+=" if (schema"+o+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+o+")) "+v+" = false; else {"),r+=""+v+" = false;for (var "+h+"=0; "+h+"<"+i+".length; "+h+"++) if (equal("+u+", "+i+"["+h+"])) { "+v+" = true; break; }",t&&(r+="  }  "),r+=" if (!"+v+") {   ";var p=p||[];p.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { allowedValues: schema"+o+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var E=r;return r=p.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" }",d&&(r+=" else { "),r}});var ra=L((no,ea)=>{"use strict";ea.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||"");if(e.opts.format===!1)return d&&(r+=" if (true) { "),r;var v=e.opts.$data&&l&&l.$data,t;v?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",t="schema"+o):t=l;var f=e.opts.unknownFormats,h=Array.isArray(f);if(v){var i="format"+o,p="isObject"+o,E="formatType"+o;r+=" var "+i+" = formats["+t+"]; var "+p+" = typeof "+i+" == 'object' && !("+i+" instanceof RegExp) && "+i+".validate; var "+E+" = "+p+" && "+i+".type || 'string'; if ("+p+") { ",e.async&&(r+=" var async"+o+" = "+i+".async; "),r+=" "+i+" = "+i+".validate; } if (  ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'string') || "),r+=" (",f!="ignore"&&(r+=" ("+t+" && !"+i+" ",h&&(r+=" && self._opts.unknownFormats.indexOf("+t+") == -1 "),r+=") || "),r+=" ("+i+" && "+E+" == '"+n+"' && !(typeof "+i+" == 'function' ? ",e.async?r+=" (async"+o+" ? await "+i+"("+u+") : "+i+"("+u+")) ":r+=" "+i+"("+u+") ",r+=" : "+i+".test("+u+"))))) {"}else{var i=e.formats[l];if(!i){if(f=="ignore")return e.logger.warn('unknown format "'+l+'" ignored in schema at path "'+e.errSchemaPath+'"'),d&&(r+=" if (true) { "),r;if(h&&f.indexOf(l)>=0)return d&&(r+=" if (true) { "),r;throw new Error('unknown format "'+l+'" is used in schema at path "'+e.errSchemaPath+'"')}var p=typeof i=="object"&&!(i instanceof RegExp)&&i.validate,E=p&&i.type||"string";if(p){var g=i.async===!0;i=i.validate}if(E!=n)return d&&(r+=" if (true) { "),r;if(g){if(!e.async)throw new Error("async format in sync schema");var w="formats"+e.util.getProperty(l)+".validate";r+=" if (!(await "+w+"("+u+"))) { "}else{r+=" if (! ";var w="formats"+e.util.getProperty(l);p&&(w+=".validate"),typeof i=="function"?r+=" "+w+"("+u+") ":r+=" "+w+".test("+u+") ",r+=") { "}}var _=_||[];_.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { format:  ",v?r+=""+t:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match format "`,v?r+="' + "+t+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+P:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var $=r;return r=_.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+$+"]); ":r+=" validate.errors = ["+$+"]; return false; ":r+=" var err = "+$+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",d&&(r+=" else { "),r}});var sa=L((io,aa)=>{"use strict";aa.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t="errs__"+o,f=e.util.copy(e);f.level++;var h="valid"+f.level,i=e.schema.then,p=e.schema.else,E=i!==void 0&&(e.opts.strictKeywords?typeof i=="object"&&Object.keys(i).length>0||i===!1:e.util.schemaHasRules(i,e.RULES.all)),g=p!==void 0&&(e.opts.strictKeywords?typeof p=="object"&&Object.keys(p).length>0||p===!1:e.util.schemaHasRules(p,e.RULES.all)),w=f.baseId;if(E||g){var _;f.createErrors=!1,f.schema=l,f.schemaPath=P,f.errSchemaPath=m,r+=" var "+t+" = errors; var "+v+" = true;  ";var $=e.compositeRule;e.compositeRule=f.compositeRule=!0,r+="  "+e.validate(f)+" ",f.baseId=w,f.createErrors=!0,r+="  errors = "+t+"; if (vErrors !== null) { if ("+t+") vErrors.length = "+t+"; else vErrors = null; }  ",e.compositeRule=f.compositeRule=$,E?(r+=" if ("+h+") {  ",f.schema=e.schema.then,f.schemaPath=e.schemaPath+".then",f.errSchemaPath=e.errSchemaPath+"/then",r+="  "+e.validate(f)+" ",f.baseId=w,r+=" "+v+" = "+h+"; ",E&&g?(_="ifClause"+o,r+=" var "+_+" = 'then'; "):_="'then'",r+=" } ",g&&(r+=" else { ")):r+=" if (!"+h+") { ",g&&(f.schema=e.schema.else,f.schemaPath=e.schemaPath+".else",f.errSchemaPath=e.errSchemaPath+"/else",r+="  "+e.validate(f)+" ",f.baseId=w,r+=" "+v+" = "+h+"; ",E&&g?(_="ifClause"+o,r+=" var "+_+" = 'else'; "):_="'else'",r+=" } "),r+=" if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { failingKeyword: "+_+" } ",e.opts.messages!==!1&&(r+=` , message: 'should match "' + `+_+` + '" schema' `),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+=" }   ",d&&(r+=" else { ")}else d&&(r+=" if (true) { ");return r}});var oa=L((fo,ta)=>{"use strict";ta.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t="errs__"+o,f=e.util.copy(e),h="";f.level++;var i="valid"+f.level,p="i"+o,E=f.dataLevel=e.dataLevel+1,g="data"+E,w=e.baseId;if(r+="var "+t+" = errors;var "+v+";",Array.isArray(l)){var _=e.schema.additionalItems;if(_===!1){r+=" "+v+" = "+u+".length <= "+l.length+"; ";var $=m;m=e.errSchemaPath+"/additionalItems",r+="  if (!"+v+") {   ";var O=O||[];O.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+l.length+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have more than "+l.length+" items' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var R=r;r=O.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+R+"]); ":r+=" validate.errors = ["+R+"]; return false; ":r+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",m=$,d&&(h+="}",r+=" else { ")}var b=l;if(b){for(var I,D=-1,x=b.length-1;D<x;)if(I=b[D+=1],e.opts.strictKeywords?typeof I=="object"&&Object.keys(I).length>0||I===!1:e.util.schemaHasRules(I,e.RULES.all)){r+=" "+i+" = true; if ("+u+".length > "+D+") { ";var y=u+"["+D+"]";f.schema=I,f.schemaPath=P+"["+D+"]",f.errSchemaPath=m+"/"+D,f.errorPath=e.util.getPathExpr(e.errorPath,D,e.opts.jsonPointers,!0),f.dataPathArr[E]=D;var S=e.validate(f);f.baseId=w,e.util.varOccurences(S,g)<2?r+=" "+e.util.varReplace(S,g,y)+" ":r+=" var "+g+" = "+y+"; "+S+" ",r+=" }  ",d&&(r+=" if ("+i+") { ",h+="}")}}if(typeof _=="object"&&(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all))){f.schema=_,f.schemaPath=e.schemaPath+".additionalItems",f.errSchemaPath=e.errSchemaPath+"/additionalItems",r+=" "+i+" = true; if ("+u+".length > "+l.length+") {  for (var "+p+" = "+l.length+"; "+p+" < "+u+".length; "+p+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var y=u+"["+p+"]";f.dataPathArr[E]=p;var S=e.validate(f);f.baseId=w,e.util.varOccurences(S,g)<2?r+=" "+e.util.varReplace(S,g,y)+" ":r+=" var "+g+" = "+y+"; "+S+" ",d&&(r+=" if (!"+i+") break; "),r+=" } }  ",d&&(r+=" if ("+i+") { ",h+="}")}}else if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){f.schema=l,f.schemaPath=P,f.errSchemaPath=m,r+="  for (var "+p+" = 0; "+p+" < "+u+".length; "+p+"++) { ",f.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);var y=u+"["+p+"]";f.dataPathArr[E]=p;var S=e.validate(f);f.baseId=w,e.util.varOccurences(S,g)<2?r+=" "+e.util.varReplace(S,g,y)+" ":r+=" var "+g+" = "+y+"; "+S+" ",d&&(r+=" if (!"+i+") break; "),r+=" }"}return d&&(r+=" "+h+" if ("+t+" == errors) {"),r}});var Ge=L((uo,la)=>{"use strict";la.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,w,u="data"+(c||""),v=e.opts.$data&&l&&l.$data,t;v?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",t="schema"+o):t=l;var f=s=="maximum",h=f?"exclusiveMaximum":"exclusiveMinimum",i=e.schema[h],p=e.opts.$data&&i&&i.$data,E=f?"<":">",g=f?">":"<",w=void 0;if(!(v||typeof l=="number"||l===void 0))throw new Error(s+" must be number");if(!(p||i===void 0||typeof i=="number"||typeof i=="boolean"))throw new Error(h+" must be number or boolean");if(p){var _=e.util.getData(i.$data,c,e.dataPathArr),$="exclusive"+o,O="exclType"+o,R="exclIsNumber"+o,b="op"+o,I="' + "+b+" + '";r+=" var schemaExcl"+o+" = "+_+"; ",_="schemaExcl"+o,r+=" var "+$+"; var "+O+" = typeof "+_+"; if ("+O+" != 'boolean' && "+O+" != 'undefined' && "+O+" != 'number') { ";var w=h,D=D||[];D.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(w||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: '"+h+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var x=r;r=D.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" "+O+" == 'number' ? ( ("+$+" = "+t+" === undefined || "+_+" "+E+"= "+t+") ? "+u+" "+g+"= "+_+" : "+u+" "+g+" "+t+" ) : ( ("+$+" = "+_+" === true) ? "+u+" "+g+"= "+t+" : "+u+" "+g+" "+t+" ) || "+u+" !== "+u+") { var op"+o+" = "+$+" ? '"+E+"' : '"+E+"='; ",l===void 0&&(w=h,m=e.errSchemaPath+"/"+h,t=_,v=p)}else{var R=typeof i=="number",I=E;if(R&&v){var b="'"+I+"'";r+=" if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" ( "+t+" === undefined || "+i+" "+E+"= "+t+" ? "+u+" "+g+"= "+i+" : "+u+" "+g+" "+t+" ) || "+u+" !== "+u+") { "}else{R&&l===void 0?($=!0,w=h,m=e.errSchemaPath+"/"+h,t=i,g+="="):(R&&(t=Math[f?"min":"max"](i,l)),i===(R?t:!0)?($=!0,w=h,m=e.errSchemaPath+"/"+h,g+="="):($=!1,I+="="));var b="'"+I+"'";r+=" if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" "+u+" "+g+" "+t+" || "+u+" !== "+u+") { "}}w=w||s;var D=D||[];D.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(w||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { comparison: "+b+", limit: "+t+", exclusive: "+$+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be "+I+" ",v?r+="' + "+t:r+=""+t+"'"),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+P:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var x=r;return r=D.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+x+"]); ":r+=" validate.errors = ["+x+"]; return false; ":r+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",d&&(r+=" else { "),r}});var Ye=L((ho,na)=>{"use strict";na.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,h,u="data"+(c||""),v=e.opts.$data&&l&&l.$data,t;if(v?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",t="schema"+o):t=l,!(v||typeof l=="number"))throw new Error(s+" must be number");var f=s=="maxItems"?">":"<";r+="if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" "+u+".length "+f+" "+t+") { ";var h=s,i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(h||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+t+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",s=="maxItems"?r+="more":r+="fewer",r+=" than ",v?r+="' + "+t+" + '":r+=""+l,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+P:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var p=r;return r=i.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r}});var Ze=L((co,ia)=>{"use strict";ia.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,h,u="data"+(c||""),v=e.opts.$data&&l&&l.$data,t;if(v?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",t="schema"+o):t=l,!(v||typeof l=="number"))throw new Error(s+" must be number");var f=s=="maxLength"?">":"<";r+="if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),e.opts.unicode===!1?r+=" "+u+".length ":r+=" ucs2length("+u+") ",r+=" "+f+" "+t+") { ";var h=s,i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(h||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+t+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be ",s=="maxLength"?r+="longer":r+="shorter",r+=" than ",v?r+="' + "+t+" + '":r+=""+l,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+P:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var p=r;return r=i.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r}});var We=L((vo,fa)=>{"use strict";fa.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,h,u="data"+(c||""),v=e.opts.$data&&l&&l.$data,t;if(v?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",t="schema"+o):t=l,!(v||typeof l=="number"))throw new Error(s+" must be number");var f=s=="maxProperties"?">":"<";r+="if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),r+=" Object.keys("+u+").length "+f+" "+t+") { ";var h=s,i=i||[];i.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(h||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+t+" } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have ",s=="maxProperties"?r+="more":r+="fewer",r+=" than ",v?r+="' + "+t+" + '":r+=""+l,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+P:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var p=r;return r=i.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+p+"]); ":r+=" validate.errors = ["+p+"]; return false; ":r+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r}});var ha=L((mo,ua)=>{"use strict";ua.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v=e.opts.$data&&l&&l.$data,t;if(v?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",t="schema"+o):t=l,!(v||typeof l=="number"))throw new Error(s+" must be number");r+="var division"+o+";if (",v&&(r+=" "+t+" !== undefined && ( typeof "+t+" != 'number' || "),r+=" (division"+o+" = "+u+" / "+t+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+o+" !== parseInt(division"+o+") ",r+=" ) ",v&&(r+="  )  "),r+=" ) {   ";var f=f||[];f.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { multipleOf: "+t+" } ",e.opts.messages!==!1&&(r+=" , message: 'should be multiple of ",v?r+="' + "+t:r+=""+t+"'"),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+P:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var h=r;return r=f.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+h+"]); ":r+=" validate.errors = ["+h+"]; return false; ":r+=" var err = "+h+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r}});var va=L((po,ca)=>{"use strict";ca.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="errs__"+o,t=e.util.copy(e);t.level++;var f="valid"+t.level;if(e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){t.schema=l,t.schemaPath=P,t.errSchemaPath=m,r+=" var "+v+" = errors;  ";var h=e.compositeRule;e.compositeRule=t.compositeRule=!0,t.createErrors=!1;var i;t.opts.allErrors&&(i=t.opts.allErrors,t.opts.allErrors=!1),r+=" "+e.validate(t)+" ",t.createErrors=!0,i&&(t.opts.allErrors=i),e.compositeRule=t.compositeRule=h,r+=" if ("+f+") {   ";var p=p||[];p.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var E=r;r=p.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } ",e.opts.allErrors&&(r+=" } ")}else r+="  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: {} ",e.opts.messages!==!1&&(r+=" , message: 'should NOT be valid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",d&&(r+=" if (false) { ");return r}});var ma=L((go,da)=>{"use strict";da.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t="errs__"+o,f=e.util.copy(e),h="";f.level++;var i="valid"+f.level,p=f.baseId,E="prevValid"+o,g="passingSchemas"+o;r+="var "+t+" = errors , "+E+" = false , "+v+" = false , "+g+" = null; ";var w=e.compositeRule;e.compositeRule=f.compositeRule=!0;var _=l;if(_)for(var $,O=-1,R=_.length-1;O<R;)$=_[O+=1],(e.opts.strictKeywords?typeof $=="object"&&Object.keys($).length>0||$===!1:e.util.schemaHasRules($,e.RULES.all))?(f.schema=$,f.schemaPath=P+"["+O+"]",f.errSchemaPath=m+"/"+O,r+="  "+e.validate(f)+" ",f.baseId=p):r+=" var "+i+" = true; ",O&&(r+=" if ("+i+" && "+E+") { "+v+" = false; "+g+" = ["+g+", "+O+"]; } else { ",h+="}"),r+=" if ("+i+") { "+v+" = "+E+" = true; "+g+" = "+O+"; }";return e.compositeRule=f.compositeRule=w,r+=""+h+"if (!"+v+") {   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { passingSchemas: "+g+" } ",e.opts.messages!==!1&&(r+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),r+="} else {  errors = "+t+"; if (vErrors !== null) { if ("+t+") vErrors.length = "+t+"; else vErrors = null; }",e.opts.allErrors&&(r+=" } "),r}});var ga=L((Po,pa)=>{"use strict";pa.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v=e.opts.$data&&l&&l.$data,t;v?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",t="schema"+o):t=l;var f=v?"(new RegExp("+t+"))":e.usePattern(l);r+="if ( ",v&&(r+=" ("+t+" !== undefined && typeof "+t+" != 'string') || "),r+=" !"+f+".test("+u+") ) {   ";var h=h||[];h.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { pattern:  ",v?r+=""+t:r+=""+e.util.toQuotedString(l),r+="  } ",e.opts.messages!==!1&&(r+=` , message: 'should match pattern "`,v?r+="' + "+t+" + '":r+=""+e.util.escapeQuotes(l),r+=`"' `),e.opts.verbose&&(r+=" , schema:  ",v?r+="validate.schema"+P:r+=""+e.util.toQuotedString(l),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var i=r;return r=h.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+i+"]); ":r+=" validate.errors = ["+i+"]; return false; ":r+=" var err = "+i+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",d&&(r+=" else { "),r}});var ya=L((yo,Pa)=>{"use strict";Pa.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="errs__"+o,t=e.util.copy(e),f="";t.level++;var h="valid"+t.level,i="key"+o,p="idx"+o,E=t.dataLevel=e.dataLevel+1,g="data"+E,w="dataProperties"+o,_=Object.keys(l||{}).filter(Q),$=e.schema.patternProperties||{},O=Object.keys($).filter(Q),R=e.schema.additionalProperties,b=_.length||O.length,I=R===!1,D=typeof R=="object"&&Object.keys(R).length,x=e.opts.removeAdditional,y=I||D||x,S=e.opts.ownProperties,F=e.baseId,z=e.schema.required;if(z&&!(e.opts.$data&&z.$data)&&z.length<e.opts.loopRequired)var q=e.util.toHash(z);function Q(as){return as!=="__proto__"}if(r+="var "+v+" = errors;var "+h+" = true;",S&&(r+=" var "+w+" = undefined;"),y){if(S?r+=" "+w+" = "+w+" || Object.keys("+u+"); for (var "+p+"=0; "+p+"<"+w+".length; "+p+"++) { var "+i+" = "+w+"["+p+"]; ":r+=" for (var "+i+" in "+u+") { ",b){if(r+=" var isAdditional"+o+" = !(false ",_.length)if(_.length>8)r+=" || validate.schema"+P+".hasOwnProperty("+i+") ";else{var A=_;if(A)for(var j,V=-1,K=A.length-1;V<K;)j=A[V+=1],r+=" || "+i+" == "+e.util.toQuotedString(j)+" "}if(O.length){var H=O;if(H)for(var T,ee=-1,re=H.length-1;ee<re;)T=H[ee+=1],r+=" || "+e.usePattern(T)+".test("+i+") "}r+=" ); if (isAdditional"+o+") { "}if(x=="all")r+=" delete "+u+"["+i+"]; ";else{var Y=e.errorPath,ve="' + "+i+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,i,e.opts.jsonPointers)),I)if(x)r+=" delete "+u+"["+i+"]; ";else{r+=" "+h+" = false; ";var fe=m;m=e.errSchemaPath+"/additionalProperties";var M=M||[];M.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { additionalProperty: '"+ve+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is an invalid additional property":r+="should NOT have additional properties",r+="' "),e.opts.verbose&&(r+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var U=r;r=M.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m=fe,d&&(r+=" break; ")}else if(D)if(x=="failing"){r+=" var "+v+" = errors;  ";var ue=e.compositeRule;e.compositeRule=t.compositeRule=!0,t.schema=R,t.schemaPath=e.schemaPath+".additionalProperties",t.errSchemaPath=e.errSchemaPath+"/additionalProperties",t.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,i,e.opts.jsonPointers);var B=u+"["+i+"]";t.dataPathArr[E]=i;var C=e.validate(t);t.baseId=F,e.util.varOccurences(C,g)<2?r+=" "+e.util.varReplace(C,g,B)+" ":r+=" var "+g+" = "+B+"; "+C+" ",r+=" if (!"+h+") { errors = "+v+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+i+"]; }  ",e.compositeRule=t.compositeRule=ue}else{t.schema=R,t.schemaPath=e.schemaPath+".additionalProperties",t.errSchemaPath=e.errSchemaPath+"/additionalProperties",t.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,i,e.opts.jsonPointers);var B=u+"["+i+"]";t.dataPathArr[E]=i;var C=e.validate(t);t.baseId=F,e.util.varOccurences(C,g)<2?r+=" "+e.util.varReplace(C,g,B)+" ":r+=" var "+g+" = "+B+"; "+C+" ",d&&(r+=" if (!"+h+") break; ")}e.errorPath=Y}b&&(r+=" } "),r+=" }  ",d&&(r+=" if ("+h+") { ",f+="}")}var le=e.opts.useDefaults&&!e.compositeRule;if(_.length){var ne=_;if(ne)for(var j,de=-1,me=ne.length-1;de<me;){j=ne[de+=1];var k=l[j];if(e.opts.strictKeywords?typeof k=="object"&&Object.keys(k).length>0||k===!1:e.util.schemaHasRules(k,e.RULES.all)){var he=e.util.getProperty(j),B=u+he,Ie=le&&k.default!==void 0;t.schema=k,t.schemaPath=P+he,t.errSchemaPath=m+"/"+e.util.escapeFragment(j),t.errorPath=e.util.getPath(e.errorPath,j,e.opts.jsonPointers),t.dataPathArr[E]=e.util.toQuotedString(j);var C=e.validate(t);if(t.baseId=F,e.util.varOccurences(C,g)<2){C=e.util.varReplace(C,g,B);var J=B}else{var J=g;r+=" var "+g+" = "+B+"; "}if(Ie)r+=" "+C+" ";else{if(q&&q[j]){r+=" if ( "+J+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(j)+"') "),r+=") { "+h+" = false; ";var Y=e.errorPath,fe=m,Z=e.util.escapeQuotes(j);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Y,j,e.opts.jsonPointers)),m=e.errSchemaPath+"/required";var M=M||[];M.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+Z+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+Z+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var U=r;r=M.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+U+"]); ":r+=" validate.errors = ["+U+"]; return false; ":r+=" var err = "+U+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",m=fe,e.errorPath=Y,r+=" } else { "}else d?(r+=" if ( "+J+" === undefined ",S&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(j)+"') "),r+=") { "+h+" = true; } else { "):(r+=" if ("+J+" !== undefined ",S&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(j)+"') "),r+=" ) { ");r+=" "+C+" } "}}d&&(r+=" if ("+h+") { ",f+="}")}}if(O.length){var G=O;if(G)for(var T,tr=-1,rs=G.length-1;tr<rs;){T=G[tr+=1];var k=$[T];if(e.opts.strictKeywords?typeof k=="object"&&Object.keys(k).length>0||k===!1:e.util.schemaHasRules(k,e.RULES.all)){t.schema=k,t.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(T),t.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(T),S?r+=" "+w+" = "+w+" || Object.keys("+u+"); for (var "+p+"=0; "+p+"<"+w+".length; "+p+"++) { var "+i+" = "+w+"["+p+"]; ":r+=" for (var "+i+" in "+u+") { ",r+=" if ("+e.usePattern(T)+".test("+i+")) { ",t.errorPath=e.util.getPathExpr(e.errorPath,i,e.opts.jsonPointers);var B=u+"["+i+"]";t.dataPathArr[E]=i;var C=e.validate(t);t.baseId=F,e.util.varOccurences(C,g)<2?r+=" "+e.util.varReplace(C,g,B)+" ":r+=" var "+g+" = "+B+"; "+C+" ",d&&(r+=" if (!"+h+") break; "),r+=" } ",d&&(r+=" else "+h+" = true; "),r+=" }  ",d&&(r+=" if ("+h+") { ",f+="}")}}}return d&&(r+=" "+f+" if ("+v+" == errors) {"),r}});var Sa=L((Eo,Ea)=>{"use strict";Ea.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="errs__"+o,t=e.util.copy(e),f="";t.level++;var h="valid"+t.level;if(r+="var "+v+" = errors;",e.opts.strictKeywords?typeof l=="object"&&Object.keys(l).length>0||l===!1:e.util.schemaHasRules(l,e.RULES.all)){t.schema=l,t.schemaPath=P,t.errSchemaPath=m;var i="key"+o,p="idx"+o,E="i"+o,g="' + "+i+" + '",w=t.dataLevel=e.dataLevel+1,_="data"+w,$="dataProperties"+o,O=e.opts.ownProperties,R=e.baseId;O&&(r+=" var "+$+" = undefined; "),O?r+=" "+$+" = "+$+" || Object.keys("+u+"); for (var "+p+"=0; "+p+"<"+$+".length; "+p+"++) { var "+i+" = "+$+"["+p+"]; ":r+=" for (var "+i+" in "+u+") { ",r+=" var startErrs"+o+" = errors; ";var b=i,I=e.compositeRule;e.compositeRule=t.compositeRule=!0;var D=e.validate(t);t.baseId=R,e.util.varOccurences(D,_)<2?r+=" "+e.util.varReplace(D,_,b)+" ":r+=" var "+_+" = "+b+"; "+D+" ",e.compositeRule=t.compositeRule=I,r+=" if (!"+h+") { for (var "+E+"=startErrs"+o+"; "+E+"<errors; "+E+"++) { vErrors["+E+"].propertyName = "+i+"; }   var err =   ",e.createErrors!==!1?(r+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { propertyName: '"+g+"' } ",e.opts.messages!==!1&&(r+=" , message: 'property name \\'"+g+"\\' is invalid' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; "),d&&(r+=" break; "),r+=" } }"}return d&&(r+=" "+f+" if ("+v+" == errors) {"),r}});var wa=L((So,ba)=>{"use strict";ba.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t=e.opts.$data&&l&&l.$data,f;t?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",f="schema"+o):f=l;var h="schema"+o;if(!t)if(l.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var i=[],p=l;if(p)for(var E,g=-1,w=p.length-1;g<w;){E=p[g+=1];var _=e.schema.properties[E];_&&(e.opts.strictKeywords?typeof _=="object"&&Object.keys(_).length>0||_===!1:e.util.schemaHasRules(_,e.RULES.all))||(i[i.length]=E)}}else var i=l;if(t||i.length){var $=e.errorPath,O=t||i.length>=e.opts.loopRequired,R=e.opts.ownProperties;if(d)if(r+=" var missing"+o+"; ",O){t||(r+=" var "+h+" = validate.schema"+P+"; ");var b="i"+o,I="schema"+o+"["+b+"]",D="' + "+I+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr($,I,e.opts.jsonPointers)),r+=" var "+v+" = true; ",t&&(r+=" if (schema"+o+" === undefined) "+v+" = true; else if (!Array.isArray(schema"+o+")) "+v+" = false; else {"),r+=" for (var "+b+" = 0; "+b+" < "+h+".length; "+b+"++) { "+v+" = "+u+"["+h+"["+b+"]] !== undefined ",R&&(r+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+h+"["+b+"]) "),r+="; if (!"+v+") break; } ",t&&(r+="  }  "),r+="  if (!"+v+") {   ";var x=x||[];x.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+D+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var y=r;r=x.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else{r+=" if ( ";var S=i;if(S)for(var F,b=-1,z=S.length-1;b<z;){F=S[b+=1],b&&(r+=" || ");var q=e.util.getProperty(F),Q=u+q;r+=" ( ( "+Q+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(F)+"') "),r+=") && (missing"+o+" = "+e.util.toQuotedString(e.opts.jsonPointers?F:q)+") ) "}r+=") {  ";var I="missing"+o,D="' + "+I+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr($,I,!0):$+" + "+I);var x=x||[];x.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+D+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var y=r;r=x.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+y+"]); ":r+=" validate.errors = ["+y+"]; return false; ":r+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else { "}else if(O){t||(r+=" var "+h+" = validate.schema"+P+"; ");var b="i"+o,I="schema"+o+"["+b+"]",D="' + "+I+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr($,I,e.opts.jsonPointers)),t&&(r+=" if ("+h+" && !Array.isArray("+h+")) {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+D+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+h+" !== undefined) { "),r+=" for (var "+b+" = 0; "+b+" < "+h+".length; "+b+"++) { if ("+u+"["+h+"["+b+"]] === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+h+"["+b+"]) "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+D+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",t&&(r+="  }  ")}else{var A=i;if(A)for(var F,j=-1,V=A.length-1;j<V;){F=A[j+=1];var q=e.util.getProperty(F),D=e.util.escapeQuotes(F),Q=u+q;e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath($,F,e.opts.jsonPointers)),r+=" if ( "+Q+" === undefined ",R&&(r+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(F)+"') "),r+=") {  var err =   ",e.createErrors!==!1?(r+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { missingProperty: '"+D+"' } ",e.opts.messages!==!1&&(r+=" , message: '",e.opts._errorDataPathProperty?r+="is a required property":r+="should have required property \\'"+D+"\\'",r+="' "),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=$}else d&&(r+=" if (true) {");return r}});var $a=L((bo,_a)=>{"use strict";_a.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u="data"+(c||""),v="valid"+o,t=e.opts.$data&&l&&l.$data,f;if(t?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",f="schema"+o):f=l,(l||t)&&e.opts.uniqueItems!==!1){t&&(r+=" var "+v+"; if ("+f+" === false || "+f+" === undefined) "+v+" = true; else if (typeof "+f+" != 'boolean') "+v+" = false; else { "),r+=" var i = "+u+".length , "+v+" = true , j; if (i > 1) { ";var h=e.schema.items&&e.schema.items.type,i=Array.isArray(h);if(!h||h=="object"||h=="array"||i&&(h.indexOf("object")>=0||h.indexOf("array")>=0))r+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+v+" = false; break outer; } } } ";else{r+=" var itemIndices = {}, item; for (;i--;) { var item = "+u+"[i]; ";var p="checkDataType"+(i?"s":"");r+=" if ("+e.util[p](h,"item",e.opts.strictNumbers,!0)+") continue; ",i&&(r+=` if (typeof item == 'string') item = '"' + item; `),r+=" if (typeof itemIndices[item] == 'number') { "+v+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}r+=" } ",t&&(r+="  }  "),r+=" if (!"+v+") {   ";var E=E||[];E.push(r),r="",e.createErrors!==!1?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { i: i, j: j } ",e.opts.messages!==!1&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",t?r+="validate.schema"+P:r+=""+l,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),r+=" } "):r+=" {} ";var g=r;r=E.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",d&&(r+=" else { ")}else d&&(r+=" if (true) { ");return r}});var Ra=L((wo,Fa)=>{"use strict";Fa.exports={$ref:Nr(),allOf:Vr(),anyOf:Mr(),$comment:Kr(),const:Hr(),contains:Gr(),dependencies:Zr(),enum:Xr(),format:ra(),if:sa(),items:oa(),maximum:Ge(),minimum:Ge(),maxItems:Ye(),minItems:Ye(),maxLength:Ze(),minLength:Ze(),maxProperties:We(),minProperties:We(),multipleOf:ha(),not:va(),oneOf:ma(),pattern:ga(),properties:ya(),propertyNames:Sa(),required:wa(),uniqueItems:$a(),validate:He()}});var Oa=L((_o,xa)=>{"use strict";var Da=Ra(),Xe=se().toHash;xa.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],s=["type","$comment"],n=["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"],r=["number","integer","string","array","object","boolean","null"];return e.all=Xe(s),e.types=Xe(r),e.forEach(function(o){o.rules=o.rules.map(function(c){var l;if(typeof c=="object"){var P=Object.keys(c)[0];l=c[P],c=P,l.forEach(function(d){s.push(d),e.all[d]=!0})}s.push(c);var m=e.all[c]={keyword:c,code:Da[c],implements:l};return m}),e.all.$comment={keyword:"$comment",code:Da.$comment},o.type&&(e.types[o.type]=o)}),e.keywords=Xe(s.concat(n)),e.custom={},e}});var La=L(($o,ja)=>{"use strict";var Ia=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];ja.exports=function(a,e){for(var s=0;s<e.length;s++){a=JSON.parse(JSON.stringify(a));var n=e[s].split("/"),r=a,o;for(o=1;o<n.length;o++)r=r[n[o]];for(o=0;o<Ia.length;o++){var c=Ia[o],l=r[c];l&&(r[c]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return a}});var Qa=L((Fo,qa)=>{"use strict";var st=be().MissingRef;qa.exports=Aa;function Aa(a,e,s){var n=this;if(typeof this._opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");typeof e=="function"&&(s=e,e=void 0);var r=o(a).then(function(){var l=n._addSchema(a,void 0,e);return l.validate||c(l)});return s&&r.then(function(l){s(null,l)},s),r;function o(l){var P=l.$schema;return P&&!n.getSchema(P)?Aa.call(n,{$ref:P},!0):Promise.resolve()}function c(l){try{return n._compile(l)}catch(m){if(m instanceof st)return P(m);throw m}function P(m){var d=m.missingSchema;if(t(d))throw new Error("Schema "+d+" is loaded but "+m.missingRef+" cannot be resolved");var u=n._loadingSchemas[d];return u||(u=n._loadingSchemas[d]=n._opts.loadSchema(d),u.then(v,v)),u.then(function(f){if(!t(d))return o(f).then(function(){t(d)||n.addSchema(f,d,void 0,e)})}).then(function(){return c(l)});function v(){delete n._loadingSchemas[d]}function t(f){return n._refs[f]||n._schemas[f]}}}}});var Ta=L((Ro,za)=>{"use strict";za.exports=function(e,s,n){var r=" ",o=e.level,c=e.dataLevel,l=e.schema[s],P=e.schemaPath+e.util.getProperty(s),m=e.errSchemaPath+"/"+s,d=!e.opts.allErrors,u,v="data"+(c||""),t="valid"+o,f="errs__"+o,h=e.opts.$data&&l&&l.$data,i;h?(r+=" var schema"+o+" = "+e.util.getData(l.$data,c,e.dataPathArr)+"; ",i="schema"+o):i=l;var p=this,E="definition"+o,g=p.definition,w="",_,$,O,R,b;if(h&&g.$data){b="keywordValidate"+o;var I=g.validateSchema;r+=" var "+E+" = RULES.custom['"+s+"'].definition; var "+b+" = "+E+".validate;"}else{if(R=e.useCustomRule(p,l,e.schema,e),!R)return;i="validate.schema"+P,b=R.code,_=g.compile,$=g.inline,O=g.macro}var D=b+".errors",x="i"+o,y="ruleErr"+o,S=g.async;if(S&&!e.async)throw new Error("async keyword in sync schema");if($||O||(r+=""+D+" = null;"),r+="var "+f+" = errors;var "+t+";",h&&g.$data&&(w+="}",r+=" if ("+i+" === undefined) { "+t+" = true; } else { ",I&&(w+="}",r+=" "+t+" = "+E+".validateSchema("+i+"); if ("+t+") { ")),$)g.statements?r+=" "+R.validate+" ":r+=" "+t+" = "+R.validate+"; ";else if(O){var F=e.util.copy(e),w="";F.level++;var z="valid"+F.level;F.schema=R.validate,F.schemaPath="";var q=e.compositeRule;e.compositeRule=F.compositeRule=!0;var Q=e.validate(F).replace(/validate\.schema/g,b);e.compositeRule=F.compositeRule=q,r+=" "+Q}else{var A=A||[];A.push(r),r="",r+="  "+b+".call( ",e.opts.passContext?r+="this":r+="self",_||g.schema===!1?r+=" , "+v+" ":r+=" , "+i+" , "+v+" , validate.schema"+e.schemaPath+" ",r+=" , (dataPath || '')",e.errorPath!='""'&&(r+=" + "+e.errorPath);var j=c?"data"+(c-1||""):"parentData",V=c?e.dataPathArr[c]:"parentDataProperty";r+=" , "+j+" , "+V+" , rootData )  ";var K=r;r=A.pop(),g.errors===!1?(r+=" "+t+" = ",S&&(r+="await "),r+=""+K+"; "):S?(D="customErrors"+o,r+=" var "+D+" = null; try { "+t+" = await "+K+"; } catch (e) { "+t+" = false; if (e instanceof ValidationError) "+D+" = e.errors; else throw e; } "):r+=" "+D+" = null; "+t+" = "+K+"; "}if(g.modifying&&(r+=" if ("+j+") "+v+" = "+j+"["+V+"];"),r+=""+w,g.valid)d&&(r+=" if (true) { ");else{r+=" if ( ",g.valid===void 0?(r+=" !",O?r+=""+z:r+=""+t):r+=" "+!g.valid+" ",r+=") { ",u=p.keyword;var A=A||[];A.push(r),r="";var A=A||[];A.push(r),r="",e.createErrors!==!1?(r+=" { keyword: '"+(u||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { keyword: '"+p.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+p.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ";var H=r;r=A.pop(),!e.compositeRule&&d?e.async?r+=" throw new ValidationError(["+H+"]); ":r+=" validate.errors = ["+H+"]; return false; ":r+=" var err = "+H+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var T=r;r=A.pop(),$?g.errors?g.errors!="full"&&(r+="  for (var "+x+"="+f+"; "+x+"<errors; "+x+"++) { var "+y+" = vErrors["+x+"]; if ("+y+".dataPath === undefined) "+y+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+y+".schemaPath === undefined) { "+y+'.schemaPath = "'+m+'"; } ',e.opts.verbose&&(r+=" "+y+".schema = "+i+"; "+y+".data = "+v+"; "),r+=" } "):g.errors===!1?r+=" "+T+" ":(r+=" if ("+f+" == errors) { "+T+" } else {  for (var "+x+"="+f+"; "+x+"<errors; "+x+"++) { var "+y+" = vErrors["+x+"]; if ("+y+".dataPath === undefined) "+y+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+y+".schemaPath === undefined) { "+y+'.schemaPath = "'+m+'"; } ',e.opts.verbose&&(r+=" "+y+".schema = "+i+"; "+y+".data = "+v+"; "),r+=" } } "):O?(r+="   var err =   ",e.createErrors!==!1?(r+=" { keyword: '"+(u||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { keyword: '"+p.keyword+"' } ",e.opts.messages!==!1&&(r+=` , message: 'should pass "`+p.keyword+`" keyword validation' `),e.opts.verbose&&(r+=" , schema: validate.schema"+P+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),r+=" } "):r+=" {} ",r+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?r+=" throw new ValidationError(vErrors); ":r+=" validate.errors = vErrors; return false; ")):g.errors===!1?r+=" "+T+" ":(r+=" if (Array.isArray("+D+")) { if (vErrors === null) vErrors = "+D+"; else vErrors = vErrors.concat("+D+"); errors = vErrors.length;  for (var "+x+"="+f+"; "+x+"<errors; "+x+"++) { var "+y+" = vErrors["+x+"]; if ("+y+".dataPath === undefined) "+y+".dataPath = (dataPath || '') + "+e.errorPath+";  "+y+'.schemaPath = "'+m+'";  ',e.opts.verbose&&(r+=" "+y+".schema = "+i+"; "+y+".data = "+v+"; "),r+=" } } else { "+T+" } "),r+=" } ",d&&(r+=" else { ")}return r}});var er=L((Do,tt)=>{tt.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"http://json-schema.org/draft-07/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:!0}});var Va=L((xo,Ca)=>{"use strict";var Na=er();Ca.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:Na.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:Na.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}});var Ma=L((Oo,Ua)=>{"use strict";var ot=/^[a-z_$][a-z0-9_$-]*$/i,lt=Ta(),nt=Va();Ua.exports={add:it,get:ft,remove:ut,validate:rr};function it(a,e){var s=this.RULES;if(s.keywords[a])throw new Error("Keyword "+a+" is already defined");if(!ot.test(a))throw new Error("Keyword "+a+" is not a valid identifier");if(e){this.validateKeyword(e,!0);var n=e.type;if(Array.isArray(n))for(var r=0;r<n.length;r++)c(a,n[r],e);else c(a,n,e);var o=e.metaSchema;o&&(e.$data&&this._opts.$data&&(o={anyOf:[o,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),e.validateSchema=this.compile(o,!0))}s.keywords[a]=s.all[a]=!0;function c(l,P,m){for(var d,u=0;u<s.length;u++){var v=s[u];if(v.type==P){d=v;break}}d||(d={type:P,rules:[]},s.push(d));var t={keyword:l,definition:m,custom:!0,code:lt,implements:m.implements};d.rules.push(t),s.custom[l]=t}return this}function ft(a){var e=this.RULES.custom[a];return e?e.definition:this.RULES.keywords[a]||!1}function ut(a){var e=this.RULES;delete e.keywords[a],delete e.all[a],delete e.custom[a];for(var s=0;s<e.length;s++)for(var n=e[s].rules,r=0;r<n.length;r++)if(n[r].keyword==a){n.splice(r,1);break}return this}function rr(a,e){rr.errors=null;var s=this._validateKeyword=this._validateKeyword||this.compile(nt,!0);if(s(a))return!0;if(rr.errors=s.errors,e)throw new Error("custom keyword definition is invalid: "+this.errorsText(s.errors));return!1}});var ka=L((Io,ht)=>{ht.exports={$schema:"http://json-schema.org/draft-07/schema#",$id:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",description:"Meta-schema for $data reference (JSON Schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}});var sr=L((jo,Xa)=>{"use strict";var Ba=wr(),te=Se(),ct=$r(),Ha=Ve(),vt=ae("fast-json-stable-stringify"),dt=zr(),mt=Oa(),Ja=La(),Ga=se();Xa.exports=N;N.prototype.validate=gt;N.prototype.compile=Pt;N.prototype.addSchema=yt;N.prototype.addMetaSchema=Et;N.prototype.validateSchema=St;N.prototype.getSchema=wt;N.prototype.removeSchema=$t;N.prototype.addFormat=Lt;N.prototype.errorsText=jt;N.prototype._addSchema=Ft;N.prototype._compile=Rt;N.prototype.compileAsync=Qa();var Oe=Ma();N.prototype.addKeyword=Oe.add;N.prototype.getKeyword=Oe.get;N.prototype.removeKeyword=Oe.remove;N.prototype.validateKeyword=Oe.validate;var Ya=be();N.ValidationError=Ya.Validation;N.MissingRefError=Ya.MissingRef;N.$dataMetaSchema=Ja;var xe="http://json-schema.org/draft-07/schema",Ka=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],pt=["/properties"];function N(a){if(!(this instanceof N))return new N(a);a=this._opts=Ga.copy(a)||{},Nt(this),this._schemas={},this._refs={},this._fragments={},this._formats=dt(a.format),this._cache=a.cache||new ct,this._loadingSchemas={},this._compilations=[],this.RULES=mt(),this._getId=Dt(a),a.loopRequired=a.loopRequired||1/0,a.errorDataPath=="property"&&(a._errorDataPathProperty=!0),a.serialize===void 0&&(a.serialize=vt),this._metaOpts=Tt(this),a.formats&&Qt(this),a.keywords&&zt(this),At(this),typeof a.meta=="object"&&this.addMetaSchema(a.meta),a.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),qt(this)}function gt(a,e){var s;if(typeof a=="string"){if(s=this.getSchema(a),!s)throw new Error('no schema with key or ref "'+a+'"')}else{var n=this._addSchema(a);s=n.validate||this._compile(n)}var r=s(e);return s.$async!==!0&&(this.errors=s.errors),r}function Pt(a,e){var s=this._addSchema(a,void 0,e);return s.validate||this._compile(s)}function yt(a,e,s,n){if(Array.isArray(a)){for(var r=0;r<a.length;r++)this.addSchema(a[r],void 0,s,n);return this}var o=this._getId(a);if(o!==void 0&&typeof o!="string")throw new Error("schema id must be string");return e=te.normalizeId(e||o),Wa(this,e),this._schemas[e]=this._addSchema(a,s,n,!0),this}function Et(a,e,s){return this.addSchema(a,e,s,!0),this}function St(a,e){var s=a.$schema;if(s!==void 0&&typeof s!="string")throw new Error("$schema must be a string");if(s=s||this._opts.defaultMeta||bt(this),!s)return this.logger.warn("meta-schema not available"),this.errors=null,!0;var n=this.validate(s,a);if(!n&&e){var r="schema is invalid: "+this.errorsText();if(this._opts.validateSchema=="log")this.logger.error(r);else throw new Error(r)}return n}function bt(a){var e=a._opts.meta;return a._opts.defaultMeta=typeof e=="object"?a._getId(e)||e:a.getSchema(xe)?xe:void 0,a._opts.defaultMeta}function wt(a){var e=Za(this,a);switch(typeof e){case"object":return e.validate||this._compile(e);case"string":return this.getSchema(e);case"undefined":return _t(this,a)}}function _t(a,e){var s=te.schema.call(a,{schema:{}},e);if(s){var n=s.schema,r=s.root,o=s.baseId,c=Ba.call(a,n,r,void 0,o);return a._fragments[e]=new Ha({ref:e,fragment:!0,schema:n,root:r,baseId:o,validate:c}),c}}function Za(a,e){return e=te.normalizeId(e),a._schemas[e]||a._refs[e]||a._fragments[e]}function $t(a){if(a instanceof RegExp)return De(this,this._schemas,a),De(this,this._refs,a),this;switch(typeof a){case"undefined":return De(this,this._schemas),De(this,this._refs),this._cache.clear(),this;case"string":var e=Za(this,a);return e&&this._cache.del(e.cacheKey),delete this._schemas[a],delete this._refs[a],this;case"object":var s=this._opts.serialize,n=s?s(a):a;this._cache.del(n);var r=this._getId(a);r&&(r=te.normalizeId(r),delete this._schemas[r],delete this._refs[r])}return this}function De(a,e,s){for(var n in e){var r=e[n];!r.meta&&(!s||s.test(n))&&(a._cache.del(r.cacheKey),delete e[n])}}function Ft(a,e,s,n){if(typeof a!="object"&&typeof a!="boolean")throw new Error("schema should be object or boolean");var r=this._opts.serialize,o=r?r(a):a,c=this._cache.get(o);if(c)return c;n=n||this._opts.addUsedSchema!==!1;var l=te.normalizeId(this._getId(a));l&&n&&Wa(this,l);var P=this._opts.validateSchema!==!1&&!e,m;P&&!(m=l&&l==te.normalizeId(a.$schema))&&this.validateSchema(a,!0);var d=te.ids.call(this,a),u=new Ha({id:l,schema:a,localRefs:d,cacheKey:o,meta:s});return l[0]!="#"&&n&&(this._refs[l]=u),this._cache.put(o,u),P&&m&&this.validateSchema(a,!0),u}function Rt(a,e){if(a.compiling)return a.validate=r,r.schema=a.schema,r.errors=null,r.root=e||r,a.schema.$async===!0&&(r.$async=!0),r;a.compiling=!0;var s;a.meta&&(s=this._opts,this._opts=this._metaOpts);var n;try{n=Ba.call(this,a.schema,e,a.localRefs)}catch(o){throw delete a.validate,o}finally{a.compiling=!1,a.meta&&(this._opts=s)}return a.validate=n,a.refs=n.refs,a.refVal=n.refVal,a.root=n.root,n;function r(){var o=a.validate,c=o.apply(this,arguments);return r.errors=o.errors,c}}function Dt(a){switch(a.schemaId){case"auto":return It;case"id":return xt;default:return Ot}}function xt(a){return a.$id&&this.logger.warn("schema $id ignored",a.$id),a.id}function Ot(a){return a.id&&this.logger.warn("schema id ignored",a.id),a.$id}function It(a){if(a.$id&&a.id&&a.$id!=a.id)throw new Error("schema $id is different from id");return a.$id||a.id}function jt(a,e){if(a=a||this.errors,!a)return"No errors";e=e||{};for(var s=e.separator===void 0?", ":e.separator,n=e.dataVar===void 0?"data":e.dataVar,r="",o=0;o<a.length;o++){var c=a[o];c&&(r+=n+c.dataPath+" "+c.message+s)}return r.slice(0,-s.length)}function Lt(a,e){return typeof e=="string"&&(e=new RegExp(e)),this._formats[a]=e,this}function At(a){var e;if(a._opts.$data&&(e=ka(),a.addMetaSchema(e,e.$id,!0)),a._opts.meta!==!1){var s=er();a._opts.$data&&(s=Ja(s,pt)),a.addMetaSchema(s,xe,!0),a._refs["http://json-schema.org/schema"]=xe}}function qt(a){var e=a._opts.schemas;if(e)if(Array.isArray(e))a.addSchema(e);else for(var s in e)a.addSchema(e[s],s)}function Qt(a){for(var e in a._opts.formats){var s=a._opts.formats[e];a.addFormat(e,s)}}function zt(a){for(var e in a._opts.keywords){var s=a._opts.keywords[e];a.addKeyword(e,s)}}function Wa(a,e){if(a._schemas[e]||a._refs[e])throw new Error('schema with key or id "'+e+'" already exists')}function Tt(a){for(var e=Ga.copy(a._opts),s=0;s<Ka.length;s++)delete e[Ka[s]];return e}function Nt(a){var e=a._opts.logger;if(e===!1)a.logger={log:ar,warn:ar,error:ar};else{if(e===void 0&&(e=console),!(typeof e=="object"&&e.log&&e.warn&&e.error))throw new Error("logger must implement log, warn and error methods");a.logger=e}}function ar(){}});var oe={};is(oe,{default:()=>Ut});var Ct=or(sr());ie(oe,or(sr()));var{default:es,...Vt}=Ct,Ut=es!==void 0?es:Vt;export{Ut as default};
//# sourceMappingURL=ajv.mjs.map