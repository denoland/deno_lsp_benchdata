/* esm.sh - esbuild bundle(verror@1.10.0) denonext production */
import * as __0$ from "/v135/assert-plus@1.0.0/denonext/assert-plus.mjs";
import * as __1$ from "node:util";
import * as __2$ from "/v135/extsprintf@1.4.1/denonext/extsprintf.mjs";
import * as __3$ from "/v135/core-util-is@1.0.2/denonext/core-util-is.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"assert-plus":return e(__0$);case"util":return e(__1$);case"extsprintf":return e(__2$);case"core-util-is":return e(__3$);default:throw new Error("module \""+n+"\" not found");}};
var C=Object.create;var E=Object.defineProperty;var O=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var w=Object.getPrototypeOf,x=Object.prototype.hasOwnProperty;var g=(r=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(r,{get:(t,e)=>(typeof require<"u"?require:t)[e]}):r)(function(r){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+r+'" is not supported')});var M=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),N=(r,t)=>{for(var e in t)E(r,e,{get:t[e],enumerable:!0})},_=(r,t,e,o)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of W(t))!x.call(r,i)&&i!==e&&E(r,i,{get:()=>t[i],enumerable:!(o=O(t,i))||o.enumerable});return r},p=(r,t,e)=>(_(r,t,"default"),e&&_(e,t,"default")),v=(r,t,e)=>(e=r!=null?C(w(r)):{},_(t||!r||!r.__esModule?E(e,"default",{value:r,enumerable:!0}):e,r));var d=M((I,b)=>{var n=g("assert-plus"),y=g("util"),q=g("extsprintf"),a=g("core-util-is").isError,A=q.sprintf;b.exports=s;s.VError=s;s.SError=m;s.WError=c;s.MultiError=h;function j(r){var t,e,o,i,u;if(n.object(r,"args"),n.bool(r.strict,"args.strict"),n.array(r.argv,"args.argv"),t=r.argv,t.length===0)e={},o=[];else if(a(t[0]))e={cause:t[0]},o=t.slice(1);else if(typeof t[0]=="object"){e={};for(u in t[0])e[u]=t[0][u];o=t.slice(1)}else n.string(t[0],"first argument to VError, SError, or WError constructor must be a string, object, or Error"),e={},o=t;return n.object(e),!e.strict&&!r.strict&&(o=o.map(function(l){return l===null?"null":l===void 0?"undefined":l})),o.length===0?i="":i=A.apply(null,o),{options:e,shortmessage:i}}function s(){var r,t,e,o,i,u,l;if(r=Array.prototype.slice.call(arguments,0),!(this instanceof s))return t=Object.create(s.prototype),s.apply(t,arguments),t;if(e=j({argv:r,strict:!1}),e.options.name&&(n.string(e.options.name,`error's "name" must be a string`),this.name=e.options.name),this.jse_shortmsg=e.shortmessage,u=e.shortmessage,o=e.options.cause,o&&(n.ok(a(o),"cause is not an Error"),this.jse_cause=o,e.options.skipCauseMessage||(u+=": "+o.message)),this.jse_info={},e.options.info)for(l in e.options.info)this.jse_info[l]=e.options.info[l];return this.message=u,Error.call(this,u),Error.captureStackTrace&&(i=e.options.constructorOpt||this.constructor,Error.captureStackTrace(this,i)),this}y.inherits(s,Error);s.prototype.name="VError";s.prototype.toString=function(){var t=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t+=": "+this.message),t};s.prototype.cause=function(){var t=s.cause(this);return t===null?void 0:t};s.cause=function(r){return n.ok(a(r),"err must be an Error"),a(r.jse_cause)?r.jse_cause:null};s.info=function(r){var t,e,o;if(n.ok(a(r),"err must be an Error"),e=s.cause(r),e!==null?t=s.info(e):t={},typeof r.jse_info=="object"&&r.jse_info!==null)for(o in r.jse_info)t[o]=r.jse_info[o];return t};s.findCauseByName=function(r,t){var e;for(n.ok(a(r),"err must be an Error"),n.string(t,"name"),n.ok(t.length>0,"name cannot be empty"),e=r;e!==null;e=s.cause(e))if(n.ok(a(e)),e.name==t)return e;return null};s.hasCauseWithName=function(r,t){return s.findCauseByName(r,t)!==null};s.fullStack=function(r){n.ok(a(r),"err must be an Error");var t=s.cause(r);return t?r.stack+`
caused by: `+s.fullStack(t):r.stack};s.errorFromList=function(r){return n.arrayOfObject(r,"errors"),r.length===0?null:(r.forEach(function(t){n.ok(a(t))}),r.length==1?r[0]:new h(r))};s.errorForEach=function(r,t){n.ok(a(r),"err must be an Error"),n.func(t,"func"),r instanceof h?r.errors().forEach(function(o){t(o)}):t(r)};function m(){var r,t,e,o;return r=Array.prototype.slice.call(arguments,0),this instanceof m?(e=j({argv:r,strict:!0}),o=e.options,s.call(this,o,"%s",e.shortmessage),this):(t=Object.create(m.prototype),m.apply(t,arguments),t)}y.inherits(m,s);function h(r){n.array(r,"list of errors"),n.ok(r.length>0,"must be at least one error"),this.ase_errors=r,s.call(this,{cause:r[0]},"first of %d error%s",r.length,r.length==1?"":"s")}y.inherits(h,s);h.prototype.name="MultiError";h.prototype.errors=function(){return this.ase_errors.slice(0)};function c(){var r,t,e,o;return r=Array.prototype.slice.call(arguments,0),this instanceof c?(e=j({argv:r,strict:!1}),o=e.options,o.skipCauseMessage=!0,s.call(this,o,"%s",e.shortmessage),this):(t=Object.create(c.prototype),c.apply(t,r),t)}y.inherits(c,s);c.prototype.name="WError";c.prototype.toString=function(){var t=this.hasOwnProperty("name")&&this.name||this.constructor.name||this.constructor.prototype.name;return this.message&&(t+=": "+this.message),this.jse_cause&&this.jse_cause.message&&(t+="; caused by "+this.jse_cause.toString()),t};c.prototype.cause=function(t){return a(t)&&(this.jse_cause=t),this.jse_cause}});var f={};N(f,{cause:()=>F,default:()=>G,errorForEach:()=>z,errorFromList:()=>T,findCauseByName:()=>B,fullStack:()=>P,hasCauseWithName:()=>L,info:()=>V});var S=v(d());p(f,v(d()));var{cause:F,info:V,findCauseByName:B,hasCauseWithName:L,fullStack:P,errorFromList:T,errorForEach:z}=S,{default:k,...D}=S,G=k!==void 0?k:D;export{F as cause,G as default,z as errorForEach,T as errorFromList,B as findCauseByName,P as fullStack,L as hasCauseWithName,V as info};
//# sourceMappingURL=verror.mjs.map