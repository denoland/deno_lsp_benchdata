/* esm.sh - esbuild bundle(@jsquash/png@2.1.2/decode) denonext production */
var a,d=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});d.decode();var f=null;function b(){return(f===null||f.buffer!==a.memory.buffer)&&(f=new Uint8Array(a.memory.buffer)),f}function v(e,n){return d.decode(b().subarray(e,e+n))}var u=null;function W(){return(u===null||u.buffer!==a.memory.buffer)&&(u=new Uint8ClampedArray(a.memory.buffer)),u}function M(e,n){return W().subarray(e/1,e/1+n)}var r=new Array(32).fill(void 0);r.push(void 0,null,!0,!1);var i=r.length;function U(e){i===r.length&&r.push(r.length+1);let n=i;return i=r[n],r[n]=e,n}var m=0;function I(e,n){let t=n(e.length*1);return b().set(e,t/1),m=e.length,t}function R(e){return r[e]}function T(e){e<36||(r[e]=i,i=e)}function D(e){let n=R(e);return T(e),n}function g(e){var n=I(e,a.__wbindgen_malloc),t=m,o=a.decode(n,t);return D(o)}async function x(e,n){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,n)}catch(o){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",o);else throw o}let t=await e.arrayBuffer();return await WebAssembly.instantiate(t,n)}else{let t=await WebAssembly.instantiate(e,n);return t instanceof WebAssembly.Instance?{instance:t,module:e}:t}}async function y(e){typeof e>"u"&&(e=new URL("squoosh_png_bg.wasm",import.meta.url));let n={};n.wbg={},n.wbg.__wbg_newwithownedu8clampedarrayandsh_787b2db8ea6bfd62=function(s,c,_,h){var p=M(s,c).slice();a.__wbindgen_free(s,c*1);var A=new ImageData(p,_>>>0,h>>>0);return U(A)},n.wbg.__wbindgen_throw=function(s,c){throw new Error(v(s,c))},(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));let{instance:t,module:o}=await x(await e,n);return a=t.exports,y.__wbindgen_wasm_module=o,a}var w=y,C=globalThis.caches&&globalThis.caches.default!==void 0;C&&(globalThis.ImageData||(globalThis.ImageData=class{constructor(n,t,o){this.data=n,this.width=t,this.height=o}}));var l;async function O(e){return l||(l=w(e)),l}async function E(e){await O();let n=await g(new Uint8Array(e));if(!n)throw new Error("Encoding error.");return n}export{E as default,O as init};
//# sourceMappingURL=decode.js.map