/* esm.sh - esbuild bundle(uri-js@4.4.1) denonext production */
var Zr=Object.create;var Oe=Object.defineProperty;var Qr=Object.getOwnPropertyDescriptor;var Br=Object.getOwnPropertyNames;var kr=Object.getPrototypeOf,Jr=Object.prototype.hasOwnProperty;var Kr=(c,u)=>()=>(u||c((u={exports:{}}).exports,u),u.exports),Wr=(c,u)=>{for(var i in u)Oe(c,i,{get:u[i],enumerable:!0})},ye=(c,u,i,G)=>{if(u&&typeof u=="object"||typeof u=="function")for(let R of Br(u))!Jr.call(c,R)&&R!==i&&Oe(c,R,{get:()=>u[R],enumerable:!(G=Qr(u,R))||G.enumerable});return c},j=(c,u,i)=>(ye(c,u,"default"),i&&ye(i,u,"default")),ar=(c,u,i)=>(i=c!=null?Zr(kr(c)):{},ye(u||!c||!c.__esModule?Oe(i,"default",{value:c,enumerable:!0}):i,c));var Ne=Kr((pe,nr)=>{(function(c,u){typeof pe=="object"&&typeof nr<"u"?u(pe):typeof define=="function"&&define.amd?define(["exports"],u):u(c.URI=c.URI||{})})(pe,function(c){"use strict";function u(){for(var r=arguments.length,e=Array(r),a=0;a<r;a++)e[a]=arguments[a];if(e.length>1){e[0]=e[0].slice(0,-1);for(var n=e.length-1,t=1;t<n;++t)e[t]=e[t].slice(1,-1);return e[n]=e[n].slice(1),e.join("")}else return e[0]}function i(r){return"(?:"+r+")"}function G(r){return r===void 0?"undefined":r===null?"null":Object.prototype.toString.call(r).split(" ").pop().split("]").shift().toLowerCase()}function R(r){return r.toUpperCase()}function fr(r){return r!=null?r instanceof Array?r:typeof r.length!="number"||r.split||r.setInterval||r.call?[r]:Array.prototype.slice.call(r):[]}function ur(r,e){var a=r;if(e)for(var n in e)a[n]=e[n];return a}function Pe(r){var e="[A-Za-z]",a="[\\x0D]",n="[0-9]",t="[\\x22]",f=u(n,"[A-Fa-f]"),h="[\\x0A]",v="[\\x20]",d=i(i("%[EFef]"+f+"%"+f+f+"%"+f+f)+"|"+i("%[89A-Fa-f]"+f+"%"+f+f)+"|"+i("%"+f+f)),g="[\\:\\/\\?\\#\\[\\]\\@]",s="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",S=u(g,s),$=r?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",p=r?"[\\uE000-\\uF8FF]":"[]",E=u(e,n,"[\\-\\.\\_\\~]",$),D=i(e+u(e,n,"[\\+\\-\\.]")+"*"),o=i(i(d+"|"+u(E,s,"[\\:]"))+"*"),V=i(i("25[0-5]")+"|"+i("2[0-4]"+n)+"|"+i("1"+n+n)+"|"+i("[1-9]"+n)+"|"+n),C=i(i("25[0-5]")+"|"+i("2[0-4]"+n)+"|"+i("1"+n+n)+"|"+i("0?[1-9]"+n)+"|0?0?"+n),T=i(C+"\\."+C+"\\."+C+"\\."+C),l=i(f+"{1,4}"),A=i(i(l+"\\:"+l)+"|"+T),y=i(i(l+"\\:")+"{6}"+A),U=i("\\:\\:"+i(l+"\\:")+"{5}"+A),M=i(i(l)+"?\\:\\:"+i(l+"\\:")+"{4}"+A),H=i(i(i(l+"\\:")+"{0,1}"+l)+"?\\:\\:"+i(l+"\\:")+"{3}"+A),ue=i(i(i(l+"\\:")+"{0,2}"+l)+"?\\:\\:"+i(l+"\\:")+"{2}"+A),de=i(i(i(l+"\\:")+"{0,3}"+l)+"?\\:\\:"+l+"\\:"+A),oe=i(i(i(l+"\\:")+"{0,4}"+l)+"?\\:\\:"+A),J=i(i(i(l+"\\:")+"{0,5}"+l)+"?\\:\\:"+l),K=i(i(i(l+"\\:")+"{0,6}"+l)+"?\\:\\:"),b=i([y,U,M,H,ue,de,oe,J,K].join("|")),W=i(i(E+"|"+d)+"+"),Ie=i(b+"\\%25"+W),q=i(b+i("\\%25|\\%(?!"+f+"{2})")+W),Vr=i("[vV]"+f+"+\\."+u(E,s,"[\\:]")+"+"),Mr=i("\\["+i(q+"|"+b+"|"+Vr)+"\\]"),Ke=i(i(d+"|"+u(E,s))+"*"),he=i(Mr+"|"+T+"(?!"+Ke+")|"+Ke),se=i(n+"*"),We=i(i(o+"@")+"?"+he+i("\\:"+se)+"?"),ce=i(d+"|"+u(E,s,"[\\:\\@]")),qr=i(ce+"*"),er=i(ce+"+"),jr=i(i(d+"|"+u(E,s,"[\\@]"))+"+"),w=i(i("\\/"+qr)+"*"),ee=i("\\/"+i(er+w)+"?"),Te=i(jr+w),le=i(er+w),re="(?!"+ce+")",la=i(w+"|"+ee+"|"+Te+"|"+le+"|"+re),ae=i(i(ce+"|"+u("[\\/\\?]",p))+"*"),ve=i(i(ce+"|[\\/\\?]")+"*"),rr=i(i("\\/\\/"+We+w)+"|"+ee+"|"+le+"|"+re),Gr=i(D+"\\:"+rr+i("\\?"+ae)+"?"+i("\\#"+ve)+"?"),Yr=i(i("\\/\\/"+We+w)+"|"+ee+"|"+Te+"|"+re),Xr=i(Yr+i("\\?"+ae)+"?"+i("\\#"+ve)+"?"),pa=i(Gr+"|"+Xr),Sa=i(D+"\\:"+rr+i("\\?"+ae)+"?"),Da="^("+D+")\\:"+i(i("\\/\\/("+i("("+o+")@")+"?("+he+")"+i("\\:("+se+")")+"?)")+"?("+w+"|"+ee+"|"+le+"|"+re+")")+i("\\?("+ae+")")+"?"+i("\\#("+ve+")")+"?$",ga="^(){0}"+i(i("\\/\\/("+i("("+o+")@")+"?("+he+")"+i("\\:("+se+")")+"?)")+"?("+w+"|"+ee+"|"+Te+"|"+re+")")+i("\\?("+ae+")")+"?"+i("\\#("+ve+")")+"?$",$a="^("+D+")\\:"+i(i("\\/\\/("+i("("+o+")@")+"?("+he+")"+i("\\:("+se+")")+"?)")+"?("+w+"|"+ee+"|"+le+"|"+re+")")+i("\\?("+ae+")")+"?$",Ra="^"+i("\\#("+ve+")")+"?$",Ca="^"+i("("+o+")@")+"?("+he+")"+i("\\:("+se+")")+"?$";return{NOT_SCHEME:new RegExp(u("[^]",e,n,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(u("[^\\%\\:]",E,s),"g"),NOT_HOST:new RegExp(u("[^\\%\\[\\]\\:]",E,s),"g"),NOT_PATH:new RegExp(u("[^\\%\\/\\:\\@]",E,s),"g"),NOT_PATH_NOSCHEME:new RegExp(u("[^\\%\\/\\@]",E,s),"g"),NOT_QUERY:new RegExp(u("[^\\%]",E,s,"[\\:\\@\\/\\?]",p),"g"),NOT_FRAGMENT:new RegExp(u("[^\\%]",E,s,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(u("[^]",E,s),"g"),UNRESERVED:new RegExp(E,"g"),OTHER_CHARS:new RegExp(u("[^\\%]",E,S),"g"),PCT_ENCODED:new RegExp(d,"g"),IPV4ADDRESS:new RegExp("^("+T+")$"),IPV6ADDRESS:new RegExp("^\\[?("+b+")"+i(i("\\%25|\\%(?!"+f+"{2})")+"("+W+")")+"?\\]?$")}}var Y=Pe(!1),ne=Pe(!0),Ee=function(){function r(e,a){var n=[],t=!0,f=!1,h=void 0;try{for(var v=e[Symbol.iterator](),d;!(t=(d=v.next()).done)&&(n.push(d.value),!(a&&n.length===a));t=!0);}catch(g){f=!0,h=g}finally{try{!t&&v.return&&v.return()}finally{if(f)throw h}}return n}return function(e,a){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return r(e,a);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),hr=function(r){if(Array.isArray(r)){for(var e=0,a=Array(r.length);e<r.length;e++)a[e]=r[e];return a}else return Array.from(r)},X=2147483647,O=36,Se=1,te=26,sr=38,cr=700,_e=72,me=128,Ue="-",vr=/^xn--/,Er=/[^\0-\x7E]/,dr=/[\x2E\u3002\uFF0E\uFF61]/g,or={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},De=O-Se,N=Math.floor,ge=String.fromCharCode;function z(r){throw new RangeError(or[r])}function lr(r,e){for(var a=[],n=r.length;n--;)a[n]=e(r[n]);return a}function Fe(r,e){var a=r.split("@"),n="";a.length>1&&(n=a[0]+"@",r=a[1]),r=r.replace(dr,".");var t=r.split("."),f=lr(t,e).join(".");return n+f}function xe(r){for(var e=[],a=0,n=r.length;a<n;){var t=r.charCodeAt(a++);if(t>=55296&&t<=56319&&a<n){var f=r.charCodeAt(a++);(f&64512)==56320?e.push(((t&1023)<<10)+(f&1023)+65536):(e.push(t),a--)}else e.push(t)}return e}var pr=function(e){return String.fromCodePoint.apply(String,hr(e))},Sr=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:O},He=function(e,a){return e+22+75*(e<26)-((a!=0)<<5)},be=function(e,a,n){var t=0;for(e=n?N(e/cr):e>>1,e+=N(e/a);e>De*te>>1;t+=O)e=N(e/De);return N(t+(De+1)*e/(e+sr))},we=function(e){var a=[],n=e.length,t=0,f=me,h=_e,v=e.lastIndexOf(Ue);v<0&&(v=0);for(var d=0;d<v;++d)e.charCodeAt(d)>=128&&z("not-basic"),a.push(e.charCodeAt(d));for(var g=v>0?v+1:0;g<n;){for(var s=t,S=1,$=O;;$+=O){g>=n&&z("invalid-input");var p=Sr(e.charCodeAt(g++));(p>=O||p>N((X-t)/S))&&z("overflow"),t+=p*S;var E=$<=h?Se:$>=h+te?te:$-h;if(p<E)break;var D=O-E;S>N(X/D)&&z("overflow"),S*=D}var o=a.length+1;h=be(t-s,o,s==0),N(t/o)>X-f&&z("overflow"),f+=N(t/o),t%=o,a.splice(t++,0,f)}return String.fromCodePoint.apply(String,a)},Le=function(e){var a=[];e=xe(e);var n=e.length,t=me,f=0,h=_e,v=!0,d=!1,g=void 0;try{for(var s=e[Symbol.iterator](),S;!(v=(S=s.next()).done);v=!0){var $=S.value;$<128&&a.push(ge($))}}catch(q){d=!0,g=q}finally{try{!v&&s.return&&s.return()}finally{if(d)throw g}}var p=a.length,E=p;for(p&&a.push(Ue);E<n;){var D=X,o=!0,V=!1,C=void 0;try{for(var T=e[Symbol.iterator](),l;!(o=(l=T.next()).done);o=!0){var A=l.value;A>=t&&A<D&&(D=A)}}catch(q){V=!0,C=q}finally{try{!o&&T.return&&T.return()}finally{if(V)throw C}}var y=E+1;D-t>N((X-f)/y)&&z("overflow"),f+=(D-t)*y,t=D;var U=!0,M=!1,H=void 0;try{for(var ue=e[Symbol.iterator](),de;!(U=(de=ue.next()).done);U=!0){var oe=de.value;if(oe<t&&++f>X&&z("overflow"),oe==t){for(var J=f,K=O;;K+=O){var b=K<=h?Se:K>=h+te?te:K-h;if(J<b)break;var W=J-b,Ie=O-b;a.push(ge(He(b+W%Ie,0))),J=N(W/Ie)}a.push(ge(He(J,0))),h=be(f,y,E==p),f=0,++E}}}catch(q){M=!0,H=q}finally{try{!U&&ue.return&&ue.return()}finally{if(M)throw H}}++f,++t}return a.join("")},Dr=function(e){return Fe(e,function(a){return vr.test(a)?we(a.slice(4).toLowerCase()):a})},gr=function(e){return Fe(e,function(a){return Er.test(a)?"xn--"+Le(a):a})},Z={version:"2.1.0",ucs2:{decode:xe,encode:pr},decode:we,encode:Le,toASCII:gr,toUnicode:Dr},I={};function P(r){var e=r.charCodeAt(0),a=void 0;return e<16?a="%0"+e.toString(16).toUpperCase():e<128?a="%"+e.toString(16).toUpperCase():e<2048?a="%"+(e>>6|192).toString(16).toUpperCase()+"%"+(e&63|128).toString(16).toUpperCase():a="%"+(e>>12|224).toString(16).toUpperCase()+"%"+(e>>6&63|128).toString(16).toUpperCase()+"%"+(e&63|128).toString(16).toUpperCase(),a}function Q(r){for(var e="",a=0,n=r.length;a<n;){var t=parseInt(r.substr(a+1,2),16);if(t<128)e+=String.fromCharCode(t),a+=3;else if(t>=194&&t<224){if(n-a>=6){var f=parseInt(r.substr(a+4,2),16);e+=String.fromCharCode((t&31)<<6|f&63)}else e+=r.substr(a,6);a+=6}else if(t>=224){if(n-a>=9){var h=parseInt(r.substr(a+4,2),16),v=parseInt(r.substr(a+7,2),16);e+=String.fromCharCode((t&15)<<12|(h&63)<<6|v&63)}else e+=r.substr(a,9);a+=9}else e+=r.substr(a,3),a+=3}return e}function $e(r,e){function a(n){var t=Q(n);return t.match(e.UNRESERVED)?t:n}return r.scheme&&(r.scheme=String(r.scheme).replace(e.PCT_ENCODED,a).toLowerCase().replace(e.NOT_SCHEME,"")),r.userinfo!==void 0&&(r.userinfo=String(r.userinfo).replace(e.PCT_ENCODED,a).replace(e.NOT_USERINFO,P).replace(e.PCT_ENCODED,R)),r.host!==void 0&&(r.host=String(r.host).replace(e.PCT_ENCODED,a).toLowerCase().replace(e.NOT_HOST,P).replace(e.PCT_ENCODED,R)),r.path!==void 0&&(r.path=String(r.path).replace(e.PCT_ENCODED,a).replace(r.scheme?e.NOT_PATH:e.NOT_PATH_NOSCHEME,P).replace(e.PCT_ENCODED,R)),r.query!==void 0&&(r.query=String(r.query).replace(e.PCT_ENCODED,a).replace(e.NOT_QUERY,P).replace(e.PCT_ENCODED,R)),r.fragment!==void 0&&(r.fragment=String(r.fragment).replace(e.PCT_ENCODED,a).replace(e.NOT_FRAGMENT,P).replace(e.PCT_ENCODED,R)),r}function Re(r){return r.replace(/^0*(.*)/,"$1")||"0"}function Ce(r,e){var a=r.match(e.IPV4ADDRESS)||[],n=Ee(a,2),t=n[1];return t?t.split(".").map(Re).join("."):r}function ze(r,e){var a=r.match(e.IPV6ADDRESS)||[],n=Ee(a,3),t=n[1],f=n[2];if(t){for(var h=t.toLowerCase().split("::").reverse(),v=Ee(h,2),d=v[0],g=v[1],s=g?g.split(":").map(Re):[],S=d.split(":").map(Re),$=e.IPV4ADDRESS.test(S[S.length-1]),p=$?7:8,E=S.length-p,D=Array(p),o=0;o<p;++o)D[o]=s[o]||S[E+o]||"";$&&(D[p-1]=Ce(D[p-1],e));var V=D.reduce(function(y,U,M){if(!U||U==="0"){var H=y[y.length-1];H&&H.index+H.length===M?H.length++:y.push({index:M,length:1})}return y},[]),C=V.sort(function(y,U){return U.length-y.length})[0],T=void 0;if(C&&C.length>1){var l=D.slice(0,C.index),A=D.slice(C.index+C.length);T=l.join(":")+"::"+A.join(":")}else T=D.join(":");return f&&(T+="%"+f),T}else return r}var $r=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,Rr="".match(/(){0}/)[1]===void 0;function F(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a={},n=e.iri!==!1?ne:Y;e.reference==="suffix"&&(r=(e.scheme?e.scheme+":":"")+"//"+r);var t=r.match($r);if(t){Rr?(a.scheme=t[1],a.userinfo=t[3],a.host=t[4],a.port=parseInt(t[5],10),a.path=t[6]||"",a.query=t[7],a.fragment=t[8],isNaN(a.port)&&(a.port=t[5])):(a.scheme=t[1]||void 0,a.userinfo=r.indexOf("@")!==-1?t[3]:void 0,a.host=r.indexOf("//")!==-1?t[4]:void 0,a.port=parseInt(t[5],10),a.path=t[6]||"",a.query=r.indexOf("?")!==-1?t[7]:void 0,a.fragment=r.indexOf("#")!==-1?t[8]:void 0,isNaN(a.port)&&(a.port=r.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?t[4]:void 0)),a.host&&(a.host=ze(Ce(a.host,n),n)),a.scheme===void 0&&a.userinfo===void 0&&a.host===void 0&&a.port===void 0&&!a.path&&a.query===void 0?a.reference="same-document":a.scheme===void 0?a.reference="relative":a.fragment===void 0?a.reference="absolute":a.reference="uri",e.reference&&e.reference!=="suffix"&&e.reference!==a.reference&&(a.error=a.error||"URI is not a "+e.reference+" reference.");var f=I[(e.scheme||a.scheme||"").toLowerCase()];if(!e.unicodeSupport&&(!f||!f.unicodeSupport)){if(a.host&&(e.domainHost||f&&f.domainHost))try{a.host=Z.toASCII(a.host.replace(n.PCT_ENCODED,Q).toLowerCase())}catch(h){a.error=a.error||"Host's domain name can not be converted to ASCII via punycode: "+h}$e(a,Y)}else $e(a,n);f&&f.parse&&f.parse(a,e)}else a.error=a.error||"URI can not be parsed.";return a}function Cr(r,e){var a=e.iri!==!1?ne:Y,n=[];return r.userinfo!==void 0&&(n.push(r.userinfo),n.push("@")),r.host!==void 0&&n.push(ze(Ce(String(r.host),a),a).replace(a.IPV6ADDRESS,function(t,f,h){return"["+f+(h?"%25"+h:"")+"]"})),(typeof r.port=="number"||typeof r.port=="string")&&(n.push(":"),n.push(String(r.port))),n.length?n.join(""):void 0}var Ve=/^\.\.?\//,Me=/^\/\.(\/|$)/,qe=/^\/\.\.(\/|$)/,Ar=/^\/?(?:.|\n)*?(?=\/|$)/;function B(r){for(var e=[];r.length;)if(r.match(Ve))r=r.replace(Ve,"");else if(r.match(Me))r=r.replace(Me,"/");else if(r.match(qe))r=r.replace(qe,"/"),e.pop();else if(r==="."||r==="..")r="";else{var a=r.match(Ar);if(a){var n=a[0];r=r.slice(n.length),e.push(n)}else throw new Error("Unexpected dot segment condition")}return e.join("")}function _(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.iri?ne:Y,n=[],t=I[(e.scheme||r.scheme||"").toLowerCase()];if(t&&t.serialize&&t.serialize(r,e),r.host&&!a.IPV6ADDRESS.test(r.host)){if(e.domainHost||t&&t.domainHost)try{r.host=e.iri?Z.toUnicode(r.host):Z.toASCII(r.host.replace(a.PCT_ENCODED,Q).toLowerCase())}catch(v){r.error=r.error||"Host's domain name can not be converted to "+(e.iri?"Unicode":"ASCII")+" via punycode: "+v}}$e(r,a),e.reference!=="suffix"&&r.scheme&&(n.push(r.scheme),n.push(":"));var f=Cr(r,e);if(f!==void 0&&(e.reference!=="suffix"&&n.push("//"),n.push(f),r.path&&r.path.charAt(0)!=="/"&&n.push("/")),r.path!==void 0){var h=r.path;!e.absolutePath&&(!t||!t.absolutePath)&&(h=B(h)),f===void 0&&(h=h.replace(/^\/\//,"/%2F")),n.push(h)}return r.query!==void 0&&(n.push("?"),n.push(r.query)),r.fragment!==void 0&&(n.push("#"),n.push(r.fragment)),n.join("")}function je(r,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=arguments[3],t={};return n||(r=F(_(r,a),a),e=F(_(e,a),a)),a=a||{},!a.tolerant&&e.scheme?(t.scheme=e.scheme,t.userinfo=e.userinfo,t.host=e.host,t.port=e.port,t.path=B(e.path||""),t.query=e.query):(e.userinfo!==void 0||e.host!==void 0||e.port!==void 0?(t.userinfo=e.userinfo,t.host=e.host,t.port=e.port,t.path=B(e.path||""),t.query=e.query):(e.path?(e.path.charAt(0)==="/"?t.path=B(e.path):((r.userinfo!==void 0||r.host!==void 0||r.port!==void 0)&&!r.path?t.path="/"+e.path:r.path?t.path=r.path.slice(0,r.path.lastIndexOf("/")+1)+e.path:t.path=e.path,t.path=B(t.path)),t.query=e.query):(t.path=r.path,e.query!==void 0?t.query=e.query:t.query=r.query),t.userinfo=r.userinfo,t.host=r.host,t.port=r.port),t.scheme=r.scheme),t.fragment=e.fragment,t}function Ir(r,e,a){var n=ur({scheme:"null"},a);return _(je(F(r,n),F(e,n),n,!0),n)}function Tr(r,e){return typeof r=="string"?r=_(F(r,e),e):G(r)==="object"&&(r=F(_(r,e),e)),r}function yr(r,e,a){return typeof r=="string"?r=_(F(r,a),a):G(r)==="object"&&(r=_(r,a)),typeof e=="string"?e=_(F(e,a),a):G(e)==="object"&&(e=_(e,a)),r===e}function Or(r,e){return r&&r.toString().replace(!e||!e.iri?Y.ESCAPE:ne.ESCAPE,P)}function x(r,e){return r&&r.toString().replace(!e||!e.iri?Y.PCT_ENCODED:ne.PCT_ENCODED,Q)}var ie={scheme:"http",domainHost:!0,parse:function(e,a){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,a){var n=String(e.scheme).toLowerCase()==="https";return(e.port===(n?443:80)||e.port==="")&&(e.port=void 0),e.path||(e.path="/"),e}},Ge={scheme:"https",domainHost:ie.domainHost,parse:ie.parse,serialize:ie.serialize};function Ye(r){return typeof r.secure=="boolean"?r.secure:String(r.scheme).toLowerCase()==="wss"}var fe={scheme:"ws",domainHost:!0,parse:function(e,a){var n=e;return n.secure=Ye(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,a){if((e.port===(Ye(e)?443:80)||e.port==="")&&(e.port=void 0),typeof e.secure=="boolean"&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),t=Ee(n,2),f=t[0],h=t[1];e.path=f&&f!=="/"?f:void 0,e.query=h,e.resourceName=void 0}return e.fragment=void 0,e}},Xe={scheme:"wss",domainHost:fe.domainHost,parse:fe.parse,serialize:fe.serialize},Nr={},Pr=!0,Ze="[A-Za-z0-9\\-\\.\\_\\~"+(Pr?"\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF":"")+"]",m="[0-9A-Fa-f]",_r=i(i("%[EFef]"+m+"%"+m+m+"%"+m+m)+"|"+i("%[89A-Fa-f]"+m+"%"+m+m)+"|"+i("%"+m+m)),mr="[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]",Ur="[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",Fr=u(Ur,'[\\"\\\\]'),xr="[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]",Hr=new RegExp(Ze,"g"),k=new RegExp(_r,"g"),br=new RegExp(u("[^]",mr,"[\\.]",'[\\"]',Fr),"g"),Qe=new RegExp(u("[^]",Ze,xr),"g"),wr=Qe;function Ae(r){var e=Q(r);return e.match(Hr)?e:r}var Be={scheme:"mailto",parse:function(e,a){var n=e,t=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var f=!1,h={},v=n.query.split("&"),d=0,g=v.length;d<g;++d){var s=v[d].split("=");switch(s[0]){case"to":for(var S=s[1].split(","),$=0,p=S.length;$<p;++$)t.push(S[$]);break;case"subject":n.subject=x(s[1],a);break;case"body":n.body=x(s[1],a);break;default:f=!0,h[x(s[0],a)]=x(s[1],a);break}}f&&(n.headers=h)}n.query=void 0;for(var E=0,D=t.length;E<D;++E){var o=t[E].split("@");if(o[0]=x(o[0]),a.unicodeSupport)o[1]=x(o[1],a).toLowerCase();else try{o[1]=Z.toASCII(x(o[1],a).toLowerCase())}catch(V){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+V}t[E]=o.join("@")}return n},serialize:function(e,a){var n=e,t=fr(e.to);if(t){for(var f=0,h=t.length;f<h;++f){var v=String(t[f]),d=v.lastIndexOf("@"),g=v.slice(0,d).replace(k,Ae).replace(k,R).replace(br,P),s=v.slice(d+1);try{s=a.iri?Z.toUnicode(s):Z.toASCII(x(s,a).toLowerCase())}catch(E){n.error=n.error||"Email address's domain name can not be converted to "+(a.iri?"Unicode":"ASCII")+" via punycode: "+E}t[f]=g+"@"+s}n.path=t.join(",")}var S=e.headers=e.headers||{};e.subject&&(S.subject=e.subject),e.body&&(S.body=e.body);var $=[];for(var p in S)S[p]!==Nr[p]&&$.push(p.replace(k,Ae).replace(k,R).replace(Qe,P)+"="+S[p].replace(k,Ae).replace(k,R).replace(wr,P));return $.length&&(n.query=$.join("&")),n}},Lr=/^([^\:]+)\:(.*)/,ke={scheme:"urn",parse:function(e,a){var n=e.path&&e.path.match(Lr),t=e;if(n){var f=a.scheme||t.scheme||"urn",h=n[1].toLowerCase(),v=n[2],d=f+":"+(a.nid||h),g=I[d];t.nid=h,t.nss=v,t.path=void 0,g&&(t=g.parse(t,a))}else t.error=t.error||"URN can not be parsed.";return t},serialize:function(e,a){var n=a.scheme||e.scheme||"urn",t=e.nid,f=n+":"+(a.nid||t),h=I[f];h&&(e=h.serialize(e,a));var v=e,d=e.nss;return v.path=(t||a.nid)+":"+d,v}},zr=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,Je={scheme:"urn:uuid",parse:function(e,a){var n=e;return n.uuid=n.nss,n.nss=void 0,!a.tolerant&&(!n.uuid||!n.uuid.match(zr))&&(n.error=n.error||"UUID is not valid."),n},serialize:function(e,a){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};I[ie.scheme]=ie,I[Ge.scheme]=Ge,I[fe.scheme]=fe,I[Xe.scheme]=Xe,I[Be.scheme]=Be,I[ke.scheme]=ke,I[Je.scheme]=Je,c.SCHEMES=I,c.pctEncChar=P,c.pctDecChars=Q,c.parse=F,c.removeDotSegments=B,c.serialize=_,c.resolveComponents=je,c.resolve=Ir,c.normalize=Tr,c.equal=yr,c.escapeComponent=Or,c.unescapeComponent=x,Object.defineProperty(c,"__esModule",{value:!0})})});var L={};Wr(L,{SCHEMES:()=>ea,__esModule:()=>Ea,default:()=>oa,equal:()=>sa,escapeComponent:()=>ca,normalize:()=>ha,parse:()=>na,pctDecChars:()=>aa,pctEncChar:()=>ra,removeDotSegments:()=>ta,resolve:()=>ua,resolveComponents:()=>fa,serialize:()=>ia,unescapeComponent:()=>va});var ir=ar(Ne());j(L,ar(Ne()));var{SCHEMES:ea,pctEncChar:ra,pctDecChars:aa,parse:na,removeDotSegments:ta,serialize:ia,resolveComponents:fa,resolve:ua,normalize:ha,equal:sa,escapeComponent:ca,unescapeComponent:va,__esModule:Ea}=ir,{default:tr,...da}=ir,oa=tr!==void 0?tr:da;export{ea as SCHEMES,Ea as __esModule,oa as default,sa as equal,ca as escapeComponent,ha as normalize,na as parse,aa as pctDecChars,ra as pctEncChar,ta as removeDotSegments,ua as resolve,fa as resolveComponents,ia as serialize,va as unescapeComponent};
/*! Bundled license information:

uri-js/dist/es5/uri.all.js:
  (** @license URI.js v4.4.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js *)
*/
//# sourceMappingURL=uri-js.mjs.map