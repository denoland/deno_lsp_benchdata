/* esm.sh - esbuild bundle(node-gyp-build@4.6.1) denonext production */
import __Process$ from "node:process";
import * as __0$ from "node:fs";
import * as __1$ from "node:path";
import * as __2$ from "node:os";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"fs":return e(__0$);case"path":return e(__1$);case"os":return e(__2$);default:throw new Error("module \""+n+"\" not found");}};
var K=Object.create;var v=Object.defineProperty;var Q=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var X=Object.getPrototypeOf,Z=Object.prototype.hasOwnProperty;var l=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,n)=>(typeof require<"u"?require:r)[n]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var E=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),ee=(e,r)=>{for(var n in r)v(e,n,{get:r[n],enumerable:!0})},f=(e,r,n,i)=>{if(r&&typeof r=="object"||typeof r=="function")for(let o of W(r))!Z.call(e,o)&&o!==n&&v(e,o,{get:()=>r[o],enumerable:!(i=Q(r,o))||i.enumerable});return e},a=(e,r,n)=>(f(e,r,"default"),n&&f(n,r,"default")),R=(e,r,n)=>(n=e!=null?K(X(e)):{},f(r||!e||!e.__esModule?v(n,"default",{value:e,enumerable:!0}):n,e));var V=E((be,M)=>{var L=l("fs"),u=l("path"),S=l("os"),D=typeof __webpack_require__=="function"?__non_webpack_require__:l,re=__Process$.config&&__Process$.config.variables||{},ne=!!__Process$.env.PREBUILDS_ONLY,k=__Process$.versions.modules,m=oe()?"electron":se()?"node-webkit":"node",d=__Process$.env.npm_config_arch||S.arch(),_=__Process$.env.npm_config_platform||S.platform(),I=__Process$.env.LIBC||(te(_)?"musl":"glibc"),b=__Process$.env.ARM_VERSION||(d==="arm64"?"8":re.arm_version)||"",O=(__Process$.versions.uv||"").split(".")[0];M.exports=t;function t(e){return D(t.resolve(e))}t.resolve=t.path=function(e){e=u.resolve(e||".");try{var r=D(u.join(e,"package.json")).name.toUpperCase().replace(/-/g,"_");__Process$.env[r+"_PREBUILD"]&&(e=__Process$.env[r+"_PREBUILD"])}catch{}if(!ne){var n=B(u.join(e,"build/Release"),N);if(n)return n;var i=B(u.join(e,"build/Debug"),N);if(i)return i}var o=w(e);if(o)return o;var s=w(u.dirname(__Process$.execPath));if(s)return s;var z=["platform="+_,"arch="+d,"runtime="+m,"abi="+k,"uv="+O,b?"armv="+b:"","libc="+I,"node="+__Process$.versions.node,__Process$.versions.electron?"electron="+__Process$.versions.electron:"",typeof __webpack_require__=="function"?"webpack=true":""].filter(Boolean).join(" ");throw new Error("No native build was found for "+z+`
    loaded from: `+e+`
`);function w(p){var G=h(u.join(p,"prebuilds")).map(U),j=G.filter(A(_,d)).sort(P)[0];if(j){var x=u.join(p,"prebuilds",j.name),H=h(x).map(C),J=H.filter(g(m,k)),q=J.sort(F(m))[0];if(q)return u.join(x,q.file)}}};function h(e){try{return L.readdirSync(e)}catch{return[]}}function B(e,r){var n=h(e).filter(r);return n[0]&&u.join(e,n[0])}function N(e){return/\.node$/.test(e)}function U(e){var r=e.split("-");if(r.length===2){var n=r[0],i=r[1].split("+");if(n&&i.length&&i.every(Boolean))return{name:e,platform:n,architectures:i}}}function A(e,r){return function(n){return n==null||n.platform!==e?!1:n.architectures.includes(r)}}function P(e,r){return e.architectures.length-r.architectures.length}function C(e){var r=e.split("."),n=r.pop(),i={file:e,specificity:0};if(n==="node"){for(var o=0;o<r.length;o++){var s=r[o];if(s==="node"||s==="electron"||s==="node-webkit")i.runtime=s;else if(s==="napi")i.napi=!0;else if(s.slice(0,3)==="abi")i.abi=s.slice(3);else if(s.slice(0,2)==="uv")i.uv=s.slice(2);else if(s.slice(0,4)==="armv")i.armv=s.slice(4);else if(s==="glibc"||s==="musl")i.libc=s;else continue;i.specificity++}return i}}function g(e,r){return function(n){return!(n==null||n.runtime!==e&&!ie(n)||n.abi!==r&&!n.napi||n.uv&&n.uv!==O||n.armv&&n.armv!==b||n.libc&&n.libc!==I)}}function ie(e){return e.runtime==="node"&&e.napi}function F(e){return function(r,n){return r.runtime!==n.runtime?r.runtime===e?-1:1:r.abi!==n.abi?r.abi?-1:1:r.specificity!==n.specificity?r.specificity>n.specificity?-1:1:0}}function se(){return!!(__Process$.versions&&__Process$.versions.nw)}function oe(){return __Process$.versions&&__Process$.versions.electron||__Process$.env.ELECTRON_RUN_AS_NODE?!0:typeof window<"u"&&window.process&&window.process.type==="renderer"}function te(e){return e==="linux"&&L.existsSync("/etc/alpine-release")}t.parseTags=C;t.matchTags=g;t.compareTags=F;t.parseTuple=U;t.matchTuple=A;t.compareTuples=P});var T=E((ye,y)=>{typeof __Process$.addon=="function"?y.exports=__Process$.addon.bind(__Process$):y.exports=V()});var c={};ee(c,{compareTags:()=>le,compareTuples:()=>ve,default:()=>de,matchTags:()=>ae,matchTuple:()=>fe,parseTags:()=>ce,parseTuple:()=>pe,resolve:()=>ue});var $=R(T());a(c,R(T()));var{resolve:ue,parseTags:ce,matchTags:ae,compareTags:le,parseTuple:pe,matchTuple:fe,compareTuples:ve}=$,{default:Y,...me}=$,de=Y!==void 0?Y:me;export{le as compareTags,ve as compareTuples,de as default,ae as matchTags,fe as matchTuple,ce as parseTags,pe as parseTuple,ue as resolve};
//# sourceMappingURL=node-gyp-build.mjs.map