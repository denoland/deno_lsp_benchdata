/* esm.sh - esbuild bundle(@octokit/endpoint@9.0.2) denonext production */
import{getUserAgent as R}from"/v135/universal-user-agent@6.0.1/denonext/universal-user-agent.mjs";var T="9.0.2";var C=`octokit-endpoint.js/${T} ${R()}`,U={method:"GET",baseUrl:"https://api.github.com",headers:{accept:"application/vnd.github.v3+json","user-agent":C},mediaType:{format:""}};function w(e){return e?Object.keys(e).reduce((r,t)=>(r[t.toLowerCase()]=e[t],r),{}):{}}import{isPlainObject as P}from"/v135/is-plain-object@5.0.0/denonext/is-plain-object.mjs";function h(e,r){let t=Object.assign({},e);return Object.keys(r).forEach(i=>{P(r[i])?i in e?t[i]=h(e[i],r[i]):Object.assign(t,{[i]:r[i]}):Object.assign(t,{[i]:r[i]})}),t}function g(e){for(let r in e)e[r]===void 0&&delete e[r];return e}function l(e,r,t){if(typeof r=="string"){let[n,c]=r.split(" ");t=Object.assign(c?{method:n,url:c}:{url:n},t)}else t=Object.assign({},r);t.headers=w(t.headers),g(t),g(t.headers);let i=h(e||{},t);return t.url==="/graphql"&&(e&&e.mediaType.previews?.length&&(i.mediaType.previews=e.mediaType.previews.filter(n=>!i.mediaType.previews.includes(n)).concat(i.mediaType.previews)),i.mediaType.previews=(i.mediaType.previews||[]).map(n=>n.replace(/-preview/,""))),i}function O(e,r){let t=/\?/.test(e)?"&":"?",i=Object.keys(r);return i.length===0?e:e+t+i.map(n=>n==="q"?"q="+r.q.split("+").map(encodeURIComponent).join("+"):`${n}=${encodeURIComponent(r[n])}`).join("&")}var S=/\{[^}]+\}/g;function V(e){return e.replace(/^\W+|\W+$/g,"").split(/,/)}function A(e){let r=e.match(S);return r?r.map(V).reduce((t,i)=>t.concat(i),[]):[]}function b(e,r){return Object.keys(e).filter(t=>!r.includes(t)).reduce((t,i)=>(t[i]=e[i],t),{})}function x(e){return e.split(/(%[0-9A-Fa-f]{2})/g).map(function(r){return/%[0-9A-Fa-f]/.test(r)||(r=encodeURI(r).replace(/%5B/g,"[").replace(/%5D/g,"]")),r}).join("")}function p(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(r){return"%"+r.charCodeAt(0).toString(16).toUpperCase()})}function m(e,r,t){return r=e==="+"||e==="#"?x(r):p(r),t?p(t)+"="+r:r}function o(e){return e!=null}function y(e){return e===";"||e==="&"||e==="?"}function F(e,r,t,i){var n=e[t],c=[];if(o(n)&&n!=="")if(typeof n=="string"||typeof n=="number"||typeof n=="boolean")n=n.toString(),i&&i!=="*"&&(n=n.substring(0,parseInt(i,10))),c.push(m(r,n,y(r)?t:""));else if(i==="*")Array.isArray(n)?n.filter(o).forEach(function(s){c.push(m(r,s,y(r)?t:""))}):Object.keys(n).forEach(function(s){o(n[s])&&c.push(m(r,n[s],s))});else{let s=[];Array.isArray(n)?n.filter(o).forEach(function(a){s.push(m(r,a))}):Object.keys(n).forEach(function(a){o(n[a])&&(s.push(p(a)),s.push(m(r,n[a].toString())))}),y(r)?c.push(p(t)+"="+s.join(",")):s.length!==0&&c.push(s.join(","))}else r===";"?o(n)&&c.push(p(t)):n===""&&(r==="&"||r==="?")?c.push(p(t)+"="):n===""&&c.push("");return c}function E(e){return{expand:I.bind(null,e)}}function I(e,r){var t=["+","#",".","/",";","?","&"];return e=e.replace(/\{([^\{\}]+)\}|([^\{\}]+)/g,function(i,n,c){if(n){let a="",f=[];if(t.indexOf(n.charAt(0))!==-1&&(a=n.charAt(0),n=n.substr(1)),n.split(/,/g).forEach(function(j){var u=/([^:\*]*)(?::(\d+)|(\*))?/.exec(j);f.push(F(r,a,u[1],u[2]||u[3]))}),a&&a!=="+"){var s=",";return a==="?"?s="&":a!=="#"&&(s=a),(f.length!==0?a:"")+f.join(s)}else return f.join(",")}else return x(c)}),e==="/"?e:e.replace(/\/$/,"")}function d(e){let r=e.method.toUpperCase(),t=(e.url||"/").replace(/:([a-z]\w+)/g,"{$1}"),i=Object.assign({},e.headers),n,c=b(e,["method","baseUrl","url","headers","request","mediaType"]),s=A(t);t=E(t).expand(c),/^http/.test(t)||(t=e.baseUrl+t);let a=Object.keys(e).filter(u=>s.includes(u)).concat("baseUrl"),f=b(c,a);if(!/application\/octet-stream/i.test(i.accept)&&(e.mediaType.format&&(i.accept=i.accept.split(/,/).map(u=>u.replace(/application\/vnd(\.\w+)(\.v3)?(\.\w+)?(\+json)?$/,`application/vnd$1$2.${e.mediaType.format}`)).join(",")),t.endsWith("/graphql")&&e.mediaType.previews?.length)){let u=i.accept.match(/[\w-]+(?=-preview)/g)||[];i.accept=u.concat(e.mediaType.previews).map(D=>{let q=e.mediaType.format?`.${e.mediaType.format}`:"+json";return`application/vnd.github.${D}-preview${q}`}).join(",")}return["GET","HEAD"].includes(r)?t=O(t,f):"data"in f?n=f.data:Object.keys(f).length&&(n=f),!i["content-type"]&&typeof n<"u"&&(i["content-type"]="application/json; charset=utf-8"),["PATCH","PUT"].includes(r)&&typeof n>"u"&&(n=""),Object.assign({method:r,url:t,headers:i},typeof n<"u"?{body:n}:null,e.request?{request:e.request}:null)}function $(e,r,t){return d(l(e,r,t))}function v(e,r){let t=l(e,r),i=$.bind(null,t);return Object.assign(i,{DEFAULTS:t,defaults:v.bind(null,t),merge:l.bind(null,t),parse:d})}var de=v(null,U);export{de as endpoint};
//# sourceMappingURL=endpoint.mjs.map