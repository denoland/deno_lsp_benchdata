/* esm.sh - esbuild bundle(@octokit/auth-oauth-app@7.0.1) denonext production */
import{getUserAgent as d}from"/v135/universal-user-agent@6.0.1/denonext/universal-user-agent.mjs";import{request as f}from"/v135/@octokit/request@8.1.6/denonext/request.mjs";import l from"/v135/btoa-lite@1.0.0/denonext/btoa-lite.mjs";import{createOAuthUserAuth as p}from"/v135/@octokit/auth-oauth-user@4.0.1/denonext/auth-oauth-user.mjs";async function u(t,e){if(e.type==="oauth-app")return{type:"oauth-app",clientId:t.clientId,clientSecret:t.clientSecret,clientType:t.clientType,headers:{authorization:`basic ${l(`${t.clientId}:${t.clientSecret}`)}`}};if("factory"in e){let{type:o,...n}={...e,...t};return e.factory(n)}let r={clientId:t.clientId,clientSecret:t.clientSecret,request:t.request,...e};return(t.clientType==="oauth-app"?await p({...r,clientType:t.clientType}):await p({...r,clientType:t.clientType}))()}import s from"/v135/btoa-lite@1.0.0/denonext/btoa-lite.mjs";import{requiresBasicAuth as m}from"/v135/@octokit/auth-oauth-user@4.0.1/denonext/auth-oauth-user.mjs";async function a(t,e,r,c){let o=e.endpoint.merge(r,c);if(/\/login\/(oauth\/access_token|device\/code)$/.test(o.url))return e(o);if(t.clientType==="github-app"&&!m(o.url))throw new Error(`[@octokit/auth-oauth-app] GitHub Apps cannot use their client ID/secret for basic authentication for endpoints other than "/applications/{client_id}/**". "${o.method} ${o.url}" is not supported.`);let n=s(`${t.clientId}:${t.clientSecret}`);o.headers.authorization=`basic ${n}`;try{return await e(o)}catch(i){throw i.status!==401||(i.message=`[@octokit/auth-oauth-app] "${o.method} ${o.url}" does not support clientId/clientSecret basic authentication.`),i}}var h="7.0.1";import{createOAuthUserAuth as E}from"/v135/@octokit/auth-oauth-user@4.0.1/denonext/auth-oauth-user.mjs";function O(t){let e=Object.assign({request:f.defaults({headers:{"user-agent":`octokit-auth-oauth-app.js/${h} ${d()}`}}),clientType:"oauth-app"},t);return Object.assign(u.bind(null,e),{hook:a.bind(null,e)})}export{O as createOAuthAppAuth,E as createOAuthUserAuth};
//# sourceMappingURL=auth-oauth-app.mjs.map