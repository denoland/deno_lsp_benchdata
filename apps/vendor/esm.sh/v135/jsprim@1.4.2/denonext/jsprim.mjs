/* esm.sh - esbuild bundle(jsprim@1.4.2) denonext production */
import * as __0$ from "/v135/assert-plus@1.0.0/denonext/assert-plus.mjs";
import * as __1$ from "node:util";
import * as __2$ from "/v135/extsprintf@1.3.0/denonext/extsprintf.mjs";
import * as __3$ from "/v135/verror@1.10.0/denonext/verror.mjs";
import * as __4$ from "/v135/json-schema@0.4.0/denonext/json-schema.mjs";
var require=n=>{const e=m=>typeof m.default<"u"?m.default:m,c=m=>Object.assign({},m);switch(n){case"assert-plus":return e(__0$);case"util":return e(__1$);case"extsprintf":return e(__2$);case"verror":return e(__3$);case"json-schema":return e(__4$);default:throw new Error("module \""+n+"\" not found");}};
var J=Object.create;var x=Object.defineProperty;var F=Object.getOwnPropertyDescriptor;var W=Object.getOwnPropertyNames;var Z=Object.getPrototypeOf,K=Object.prototype.hasOwnProperty;var g=(e=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(e,{get:(r,t)=>(typeof require<"u"?require:r)[t]}):e)(function(e){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+e+'" is not supported')});var R=(e,r)=>()=>(r||e((r={exports:{}}).exports,r),r.exports),G=(e,r)=>{for(var t in r)x(e,t,{get:r[t],enumerable:!0})},y=(e,r,t,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let i of W(r))!K.call(e,i)&&i!==t&&x(e,i,{get:()=>r[i],enumerable:!(n=F(r,i))||n.enumerable});return e},m=(e,r,t)=>(y(e,r,"default"),t&&y(t,r,"default")),E=(e,r,t)=>(t=e!=null?J(Z(e)):{},y(r||!e||!e.__esModule?x(t,"default",{value:e,enumerable:!0}):t,e));var O=R(a=>{var o=g("assert-plus"),sr=g("util"),P=g("extsprintf"),H=g("verror"),V=g("json-schema");a.deepCopy=C;a.deepEqual=I;a.isEmpty=L;a.hasKey=_;a.forEachKey=X;a.pluck=Y;a.flattenObject=S;a.flattenIter=B;a.validateJsonObject=N;a.validateJsonObjectJS=N;a.randElt=Pe;a.extraProperties=Ne;a.mergeObjects=D;a.startsWith=z;a.endsWith=Q;a.parseInteger=we;a.iso8601=$;a.rfc1123=re;a.parseDateTime=te;a.hrtimediff=k;a.hrtimeDiff=k;a.hrtimeAccum=b;a.hrtimeAdd=Se;a.hrtimeNanosec=Ie;a.hrtimeMicrosec=Ae;a.hrtimeMillisec=Me;function C(e){var r,t,n="__deepCopy";if(e&&e[n])throw new Error("attempted deep copy of cyclic object");if(e&&e.constructor==Object){r={},e[n]=!0;for(t in e)t!=n&&(r[t]=C(e[t]));return delete e[n],r}if(e&&e.constructor==Array){for(r=[],e[n]=!0,t=0;t<e.length;t++)r.push(C(e[t]));return delete e[n],r}return e}function I(e,r){if(typeof e!=typeof r)return!1;if(e===null||r===null||typeof e!="object")return e===r;if(e.constructor!=r.constructor)return!1;var t;for(t in e)if(!r.hasOwnProperty(t)||!I(e[t],r[t]))return!1;for(t in r)if(!e.hasOwnProperty(t))return!1;return!0}function L(e){var r;for(r in e)return!1;return!0}function _(e,r){return o.equal(typeof r,"string"),Object.prototype.hasOwnProperty.call(e,r)}function X(e,r){for(var t in e)_(e,t)&&r(t,e[t])}function Y(e,r){return o.equal(typeof r,"string"),A(e,r)}function A(e,r){if(!(e===null||typeof e!="object")){if(e.hasOwnProperty(r))return e[r];var t=r.indexOf(".");if(t!=-1){var n=r.substr(0,t);if(e.hasOwnProperty(n))return A(e[n],r.substr(t+1))}}}function B(e,r,t){M(e,r,[],t)}function M(e,r,t,n){var i,l;if(r===0){i=t.slice(0),i.push(e),n(i);return}o.ok(e!==null),o.equal(typeof e,"object"),o.equal(typeof r,"number"),o.ok(r>=0);for(l in e)i=t.slice(0),i.push(l),M(e[l],r-1,i,n)}function S(e,r){if(r===0)return[e];o.ok(e!==null),o.equal(typeof e,"object"),o.equal(typeof r,"number"),o.ok(r>=0);var t=[],n;for(n in e)S(e[n],r-1).forEach(function(i){t.push([n].concat(i))});return t}function z(e,r){return e.substr(0,r.length)==r}function Q(e,r){return e.substr(e.length-r.length,r.length)==r}function $(e){return typeof e=="number"&&(e=new Date(e)),o.ok(e.constructor===Date),P.sprintf("%4d-%02d-%02dT%02d:%02d:%02d.%03dZ",e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds())}var j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],ee=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function re(e){return P.sprintf("%s, %02d %s %04d %02d:%02d:%02d GMT",ee[e.getUTCDay()],e.getUTCDate(),j[e.getUTCMonth()],e.getUTCFullYear(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds())}function te(e){var r=+e;return isNaN(r)?new Date(e):new Date(r)}var ne=Number.MAX_SAFE_INTEGER||9007199254740991,ie=Number.MIN_SAFE_INTEGER||-9007199254740991,oe={base:10,allowSign:!0,allowPrefix:!1,allowTrailing:!1,allowImprecise:!1,trimWhitespace:!1,leadingZeroIsOctal:!1},ae=48,se=57,le=65,fe=66,ue=79,ce=84,pe=88,me=90,he=97,ve=98,ge=111,de=116,ye=120,xe=122,Ce=48,_e=55,Oe=87;function we(e,r){o.string(e,"str"),o.optionalObject(r,"options");var t=!1,n=oe;r&&(t=_(r,"base"),n=D(n,r),o.number(n.base,"options.base"),o.ok(n.base>=2,"options.base >= 2"),o.ok(n.base<=36,"options.base <= 36"),o.bool(n.allowSign,"options.allowSign"),o.bool(n.allowPrefix,"options.allowPrefix"),o.bool(n.allowTrailing,"options.allowTrailing"),o.bool(n.allowImprecise,"options.allowImprecise"),o.bool(n.trimWhitespace,"options.trimWhitespace"),o.bool(n.leadingZeroIsOctal,"options.leadingZeroIsOctal"),n.leadingZeroIsOctal&&o.ok(!t,'"base" and "leadingZeroIsOctal" are mutually exclusive'));var i,l=-1,f=n.base,p,h=1,v=0,s=0,d=e.length;if(n.trimWhitespace)for(;s<d&&T(e.charCodeAt(s));)++s;for(n.allowSign&&(e[s]==="-"?(s+=1,h=-1):e[s]==="+"&&(s+=1)),e[s]==="0"&&(n.allowPrefix&&(l=Te(e.charCodeAt(s+1)),l!==-1&&(!t||l===f)&&(f=l,s+=2)),l===-1&&n.leadingZeroIsOctal&&(f=8)),p=s;s<d&&(i=Ee(e.charCodeAt(s)),i!==-1&&i<f);++s)v*=f,v+=i;if(p===s)return new Error("invalid number: "+JSON.stringify(e));if(n.trimWhitespace)for(;s<d&&T(e.charCodeAt(s));)++s;if(s<d&&!n.allowTrailing)return new Error("trailing characters after number: "+JSON.stringify(e.slice(s)));if(v===0)return 0;var w=v*h;return!n.allowImprecise&&(v>ne||w<ie)?new Error("number is outside of the supported range: "+JSON.stringify(e.slice(p,s))):w}function Ee(e){return e>=ae&&e<=se?e-Ce:e>=le&&e<=me?e-_e:e>=he&&e<=xe?e-Oe:-1}function T(e){return e===32||e>=9&&e<=13||e===160||e===5760||e===6158||e>=8192&&e<=8202||e===8232||e===8233||e===8239||e===8287||e===12288||e===65279}function Te(e){return e===ve||e===fe?2:e===ge||e===ue?8:e===de||e===ce?10:e===ye||e===pe?16:-1}function N(e,r){var t=V.validate(r,e);if(t.errors.length===0)return null;var n=t.errors[0],i=n.property,l=n.message.toLowerCase(),f,p;(f=l.indexOf("the property "))!=-1&&(p=l.indexOf(" is not defined in the schema and the schema does not allow additional properties"))!=-1&&(f+=13,i===""?i=l.substr(f,p-f):i=i+"."+l.substr(f,p-f),l="unsupported property");var h=new H.VError('property "%s": %s',i,l);return h.jsv_details=n,h}function Pe(e){return o.ok(Array.isArray(e)&&e.length>0,"randElt argument must be a non-empty array"),e[Math.floor(Math.random()*e.length)]}function u(e){o.ok(e[0]>=0&&e[1]>=0,"negative numbers not allowed in hrtimes"),o.ok(e[1]<1e9,"nanoseconds column overflow")}function k(e,r){u(e),u(r),o.ok(e[0]>r[0]||e[0]==r[0]&&e[1]>=r[1],"negative differences not allowed");var t=[e[0]-r[0],0];return e[1]>=r[1]?t[1]=e[1]-r[1]:(t[0]--,t[1]=1e9-(r[1]-e[1])),t}function Ie(e){return u(e),Math.floor(e[0]*1e9+e[1])}function Ae(e){return u(e),Math.floor(e[0]*1e6+e[1]/1e3)}function Me(e){return u(e),Math.floor(e[0]*1e3+e[1]/1e6)}function b(e,r){return u(e),u(r),e[1]+=r[1],e[1]>=1e9&&(e[0]++,e[1]-=1e9),e[0]+=r[0],e}function Se(e,r){u(e);var t=[e[0],e[1]];return b(t,r)}function Ne(e,r){o.ok(typeof e=="object"&&e!==null,"obj argument must be a non-null object"),o.ok(Array.isArray(r),"allowed argument must be an array of strings");for(var t=0;t<r.length;t++)o.ok(typeof r[t]=="string","allowed argument must be an array of strings");return Object.keys(e).filter(function(n){return r.indexOf(n)===-1})}function D(e,r,t){var n,i;if(n={},t)for(i in t)n[i]=t[i];if(e)for(i in e)n[i]=e[i];if(r)for(i in r)n[i]=r[i];return n}});var c={};G(c,{deepCopy:()=>ke,deepEqual:()=>be,default:()=>or,endsWith:()=>Le,extraProperties:()=>Ge,flattenIter:()=>We,flattenObject:()=>Fe,forEachKey:()=>qe,hasKey:()=>Ue,hrtimeAccum:()=>je,hrtimeAdd:()=>er,hrtimeDiff:()=>$e,hrtimeMicrosec:()=>tr,hrtimeMillisec:()=>nr,hrtimeNanosec:()=>rr,hrtimediff:()=>Qe,isEmpty:()=>De,iso8601:()=>Ye,mergeObjects:()=>He,parseDateTime:()=>ze,parseInteger:()=>Xe,pluck:()=>Je,randElt:()=>Re,rfc1123:()=>Be,startsWith:()=>Ve,validateJsonObject:()=>Ze,validateJsonObjectJS:()=>Ke});var q=E(O());m(c,E(O()));var{deepCopy:ke,deepEqual:be,isEmpty:De,hasKey:Ue,forEachKey:qe,pluck:Je,flattenObject:Fe,flattenIter:We,validateJsonObject:Ze,validateJsonObjectJS:Ke,randElt:Re,extraProperties:Ge,mergeObjects:He,startsWith:Ve,endsWith:Le,parseInteger:Xe,iso8601:Ye,rfc1123:Be,parseDateTime:ze,hrtimediff:Qe,hrtimeDiff:$e,hrtimeAccum:je,hrtimeAdd:er,hrtimeNanosec:rr,hrtimeMicrosec:tr,hrtimeMillisec:nr}=q,{default:U,...ir}=q,or=U!==void 0?U:ir;export{ke as deepCopy,be as deepEqual,or as default,Le as endsWith,Ge as extraProperties,We as flattenIter,Fe as flattenObject,qe as forEachKey,Ue as hasKey,je as hrtimeAccum,er as hrtimeAdd,$e as hrtimeDiff,tr as hrtimeMicrosec,nr as hrtimeMillisec,rr as hrtimeNanosec,Qe as hrtimediff,De as isEmpty,Ye as iso8601,He as mergeObjects,ze as parseDateTime,Xe as parseInteger,Je as pluck,Re as randElt,Be as rfc1123,Ve as startsWith,Ze as validateJsonObject,Ke as validateJsonObjectJS};
//# sourceMappingURL=jsprim.mjs.map