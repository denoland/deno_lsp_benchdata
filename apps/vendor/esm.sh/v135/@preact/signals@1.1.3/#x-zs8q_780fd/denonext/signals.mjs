/* esm.sh - esbuild bundle(@preact/signals@1.1.3) denonext production */
import{Component as y,options as v}from"preact";import{useMemo as a,useRef as m,useEffect as S}from"preact/hooks";import{Signal as h,computed as g,signal as b,effect as p}from"@preact/signals-core";import{Signal as M,batch as N,computed as O,effect as P,signal as R}from"@preact/signals-core";function s(n,t){v[n]=t.bind(null,v[n]||(()=>{}))}var l,c;function _(n){c&&c(),c=n&&n.S()}function $({data:n}){let t=k(n);t.value=n;let i=a(()=>{let e=this.__v;for(;e=e.__;)if(e.__c){e.__c.__$f|=4;break}return this.__$u.c=()=>{this.base.data=i.peek()},g(()=>{let r=t.value.value;return r===0?0:r===!0?"":r||""})},[]);return i.value}$.displayName="_st";Object.defineProperties(h.prototype,{constructor:{configurable:!0,value:void 0},type:{configurable:!0,value:$},props:{configurable:!0,get(){return{data:this}}},__b:{configurable:!0,value:1}});s("__b",(n,t)=>{if(typeof t.type=="string"){let i,e=t.props;for(let r in e){if(r==="children")continue;let o=e[r];o instanceof h&&(i||(t.__np=i={}),i[r]=o,e[r]=o.peek())}}n(t)});s("__r",(n,t)=>{_();let i,e=t.__c;e&&(e.__$f&=-2,i=e.__$u,i===void 0&&(e.__$u=i=function(r){let o;return p(function(){o=this}),o.c=()=>{e.__$f|=1,e.setState({})},o}())),l=e,_(i),n(t)});s("__e",(n,t,i,e)=>{_(),l=void 0,n(t,i,e)});s("diffed",(n,t)=>{_(),l=void 0;let i;if(typeof t.type=="string"&&(i=t.__e)){let e=t.__np,r=t.props;if(e){let o=i.U;if(o)for(let f in o){let u=o[f];u!==void 0&&!(f in e)&&(u.d(),o[f]=void 0)}else o={},i.U=o;for(let f in e){let u=o[f],d=e[f];u===void 0?(u=U(i,f,d,r),o[f]=u):u.o(d,r)}}}n(t)});function U(n,t,i,e){let r=t in n&&n.ownerSVGElement===void 0,o=b(i);return{o:(f,u)=>{o.value=f,e=u},d:p(()=>{let f=o.value.value;e[t]!==f&&(e[t]=f,r?n[t]=f:f?n.setAttribute(t,f):n.removeAttribute(t))})}}s("unmount",(n,t)=>{if(typeof t.type=="string"){let i=t.__e;if(i){let e=i.U;if(e){i.U=void 0;for(let r in e){let o=e[r];o&&o.d()}}}}else{let i=t.__c;if(i){let e=i.__$u;e&&(i.__$u=void 0,e.d())}}n(t)});s("__h",(n,t,i,e)=>{e<3&&(t.__$f|=2),n(t,i,e)});y.prototype.shouldComponentUpdate=function(n,t){let i=this.__$u;if(!(i&&i.s!==void 0||4&this.__$f)||3&this.__$f)return!0;for(let e in t)return!0;for(let e in n)if(e!=="__source"&&n[e]!==this.props[e])return!0;for(let e in this.props)if(!(e in n))return!0;return!1};function k(n){return a(()=>b(n),[])}function x(n){let t=m(n);return t.current=n,l.__$f|=4,a(()=>g(()=>t.current()),[])}function A(n){let t=m(n);t.current=n,S(()=>p(()=>t.current()),[])}export{M as Signal,N as batch,O as computed,P as effect,R as signal,x as useComputed,k as useSignal,A as useSignalEffect};
//# sourceMappingURL=signals.mjs.map